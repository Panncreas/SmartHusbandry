/*! For license information please see Vaksin.f8d1c1cd.chunk.js.LICENSE.txt */
(this.webpackJsonpreact_antd_admin_template=this.webpackJsonpreact_antd_admin_template||[]).push([[10],{1337:function(e,t,a){"use strict";a.r(t),a.d(t,"checkIfDataExists",(function(){return U}));a(295);var n=a(221),r=(a(219),a(131)),i=(a(128),a(33)),o=(a(222),a(103)),c=(a(178),a(53)),s=(a(179),a(31)),l=(a(101),a(30)),u=a(223),d=(a(129),a(69)),p=(a(132),a(35)),h=a(72),f=a(28),m=a(29),g=a(51),v=a(50),k=a(70),y=(a(296),a(133)),b=a(0),w=a.n(b),E=a(620),L=a(34);function P(e){return Object(L.a)({url:"/vaksin",method:"post",data:e})}function I(){return Object(L.a)({url:"/vaksin",method:"get"})}function x(e,t){return Object(L.a)({url:"/vaksin/".concat(t),method:"put",data:e})}function j(e){return Object(L.a)({url:"/vaksin/".concat(e.idVaksin),method:"delete",data:e})}var O=a(601),V=a(180),S=(a(134),a(176),a(19)),C=(a(177),a(27)),B=a(130),N=a(624);function D(){D=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),c=new I(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var k=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return j()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,n(k,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(k),s(k,c,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),P(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;P(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var M=C.a.Option,F=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(k.a)(D().mark((function t(){var a,n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(k.a)(D().mark((function t(){var a,n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(k.a)(D().mark((function t(){var a,n,r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null,namaPeternak:a?a.name:null})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=r.getFieldDecorator,s=this.state,l=s.provinces,u=s.regencies,p=s.districts,h=s.villages,f=this.state,m=f.petugasList,g=(f.namaPeternakList,f.selectedNamaPeternakId,f.hewanList);return w.a.createElement(d.a,{title:"Tambah Data Vaksin Buatan",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(S.a,{form:r,name:"validateOnly",layout:"vertical",autoComplete:"off"},w.a.createElement(S.a.Item,{label:"ID Vaksin:"},c("idVaksin",{rules:[{required:!0,message:"Silahkan isi id vaksin buatan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Vaksin"}))),w.a.createElement(S.a.Item,{label:"Provinsi:"},c("provinsi")(w.a.createElement(C.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},l.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Kabupaten:"},c("kabupaten")(w.a.createElement(C.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},u.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Kecamatan:"},c("kecamatan")(w.a.createElement(C.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},p.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Desa:"},c("desa")(w.a.createElement(C.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},h.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Lokasi:"},c("lokasi",{rules:[{required:!0,message:"Silahkan isi lokasi"}]})(w.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),w.a.createElement(S.a.Item,{label:"ID Peternak:"},c("idPeternak",{})(w.a.createElement(C.a,{placeholder:"Pilih ID Peternak",onChange:this.handleNamaPeternakChange,value:this.state.selectedNamaPeternakId},this.state.namaPeternakList.map((function(e){return w.a.createElement(M,{key:e.id,value:e.id},e.id)}))))),w.a.createElement(S.a.Item,{label:"Nama Peternak:"},c("namaPeternak",{rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(w.a.createElement(i.a,{disabled:!0}))),w.a.createElement(S.a.Item,{label:"Eartag Hewan:"},c("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi Eartag Hewan"}]})(w.a.createElement(C.a,{placeholder:"Pilih Eartag"},g.map((function(e){return w.a.createElement(M,{key:e,value:e},e)}))))),w.a.createElement(S.a.Item,{label:"IB 1:"},c("ib1",{})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 1"}))),w.a.createElement(S.a.Item,{label:"IB 2:"},c("ib2",{})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 2"}))),w.a.createElement(S.a.Item,{label:"IB 3:"},c("ib3",{})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 3"}))),w.a.createElement(S.a.Item,{label:"IB Lain:"},c("ibLain",{})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan Lain"}))),w.a.createElement(S.a.Item,{label:"Tanggal IB:"},c("tanggalIB",{rules:[{required:!0,message:"Silahkan isi tanggal vaksin buatan"}]})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal IB"}))),w.a.createElement(S.a.Item,{label:"ID Pejantan:"},c("idPejantan",{rules:[{required:!0,message:"Silahkan isi id pejantan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pejantan"}))),w.a.createElement(S.a.Item,{label:"ID Pembuatan:"},c("idPembuatan",{rules:[{required:!0,message:"Silahkan isi id pembuatan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pembuatan"}))),w.a.createElement(S.a.Item,{label:"Bangsa Pejantan:"},c("bangsaPejantan",{initialValue:"Sapi Limosin"})(w.a.createElement(C.a,{style:{width:150}},w.a.createElement(C.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),w.a.createElement(C.a.Option,{value:"Sapi Simental"},"Sapi Simental"),w.a.createElement(C.a.Option,{value:"Sapi FH"},"Sapi FH")))),w.a.createElement(S.a.Item,{label:"Produsen:"},c("produsen",{initialValue:"BBIB Singosari"})(w.a.createElement(C.a,{style:{width:150}},w.a.createElement(C.a.Option,{value:"BBIB Singosari"},"BBIB Singosari"),w.a.createElement(C.a.Option,{value:"BIB Lembang"},"BIB Lembang")))),w.a.createElement(S.a.Item,{label:"Inseminator:"},c("inseminator",{rules:[{required:!0,message:"Silahkan isi Inseminator"}]})(w.a.createElement(C.a,{placeholder:"Pilih Inseminator"},m.map((function(e){return w.a.createElement(M,{key:e,value:e},e)})))))))}}]),a}(b.Component),_=S.a.create({name:"AddVaksinForm"})(F);function T(){T=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),c=new I(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var k=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return j()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,n(k,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(k),s(k,c,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),P(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;P(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var G=C.a.Option,A=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(k.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(k.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(k.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id||e.namaPeternak===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=e.currentRowData,s=r.getFieldDecorator,l=this.state,u=l.provinces,p=l.regencies,h=l.districts,f=l.villages,m=this.state,g=m.petugasList,v=m.namaPeternakList,k=m.selectedNamaPeternakId,y=m.hewanList,b=c.idVaksin,E=c.tanggalIB,L=c.lokasi,P=c.namaPeternak,I=c.idPeternak,x=(c.kodeEartagNasional,c.ib1),j=c.ib2,O=c.ib3,V=c.ibLain,B=c.idPejantan,N=c.idPembuatan,D=c.bangsaPejantan,M=c.produsen,F=c.inseminator,_={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return w.a.createElement(d.a,{title:"Edit Vaksin Buatan",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(S.a,_,w.a.createElement(S.a.Item,{label:"ID Vaksin:"},s("idVaksin",{initialValue:b})(w.a.createElement(i.a,{disabled:!0}))),w.a.createElement(S.a.Item,{label:"Provinsi:"},s("provinsi")(w.a.createElement(C.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},u.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Kabupaten:"},s("kabupaten")(w.a.createElement(C.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},p.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Kecamatan:"},s("kecamatan")(w.a.createElement(C.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},h.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Desa:"},s("desa")(w.a.createElement(C.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},f.map((function(e){return w.a.createElement(C.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"Lokasi:"},s("lokasi",{initialValue:L})(w.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),w.a.createElement(S.a.Item,{label:"Nama Peternak:"},s("namaPeternak",{initialValue:P,rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(w.a.createElement(C.a,{placeholder:"Pilih Nama Peternak",onChange:this.handleNamaPeternakChange,value:k},v.map((function(e){return w.a.createElement(G,{key:e.name,value:e.name},e.name)}))))),w.a.createElement(S.a.Item,{label:"ID Peternak:"},s("idPeternak",{initialValue:I,rules:[{required:!0,message:"Silahkan isi id peternak"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Peternak",readOnly:!0}))),w.a.createElement(S.a.Item,{label:"Eartag Hewan:"},s("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi Eartag Hewan"}]})(w.a.createElement(C.a,{placeholder:"Pilih Eartag"},y.map((function(e){return w.a.createElement(G,{key:e,value:e},e)}))))),w.a.createElement(S.a.Item,{label:"IB 1:"},s("ib1",{initialValue:x})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 1"}))),w.a.createElement(S.a.Item,{label:"IB 2:"},s("ib2",{initialValue:j})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 2"}))),w.a.createElement(S.a.Item,{label:"IB 3:"},s("ib3",{initialValue:O})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan 3"}))),w.a.createElement(S.a.Item,{label:"IB 1:"},s("ibLain",{initialValue:V})(w.a.createElement(i.a,{placeholder:"Masukkan Vaksin Buatan Lain"}))),w.a.createElement(S.a.Item,{label:"Tanggal IB:"},s("tanggalIB",{initialValue:E})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal IB"}))),w.a.createElement(S.a.Item,{label:"ID Pejantan:"},s("idPejantan",{initialValue:B})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pejantan"}))),w.a.createElement(S.a.Item,{label:"ID Pembuatan:"},s("idPembuatan",{initialValue:N})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pembuatan"}))),w.a.createElement(S.a.Item,{label:"Bangsa Pejantan:"},s("bangsaPejantan",{initialValue:D})(w.a.createElement(C.a,{style:{width:150}},w.a.createElement(C.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),w.a.createElement(C.a.Option,{value:"Sapi Simental"},"Sapi Simental"),w.a.createElement(C.a.Option,{value:"Sapi FH"},"Sapi FH")))),w.a.createElement(S.a.Item,{label:"Produsen:"},s("produsen",{initialValue:M})(w.a.createElement(C.a,{style:{width:150}},w.a.createElement(C.a.Option,{value:"BBIB Singosari"},"BBIB Singosari"),w.a.createElement(C.a.Option,{value:"BBIB Lembang"},"BIB Lembang")))),w.a.createElement(S.a.Item,{label:"Inseminator:"},s("inseminator",{initialValue:F})(w.a.createElement(C.a,null,g.map((function(e){return w.a.createElement(G,{key:e,value:e},e)})))))))}}]),a}(b.Component),R=S.a.create({name:"EditVaksinForm"})(A),K=a(220),H=a(102);function q(){q=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),c=new I(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var k=f.prototype=p.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return j()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=f,n(k,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(k),s(k,c,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),P(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;P(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}y.a.Column;var U=function(){var e=Object(k.a)(q().mark((function e(t){var a,n,r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:if(a=e.sent,n=a.data,r=n.content,200!==n.statusCode){e.next=16;break}if(!(i=r.find((function(e){return e.idVaksin===t.idVaksin})))){e.next=13;break}return e.next=10,x(i.idVaksin,t);case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=18;break;case 16:return console.error("Gagal memeriksa data:",a),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("Gagal memeriksa data:",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e,n;Object(f.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))).state=(e={vaksin:[],peternaks:[],editVaksinModalVisible:!1,editVaksinModalLoading:!1,currentRowData:{},addVaksinModalVisible:!1,addVaksinModalLoading:!1,importModalVisible:!1,importedData:[],columnTitles:[],fileName:"",uploading:!1},Object(h.a)(e,"importModalVisible",!1),Object(h.a)(e,"columnMapping",{}),Object(h.a)(e,"searchKeyword",""),Object(h.a)(e,"user",null),e),n.getVaksins=Object(k.a)(q().mark((function e(){var t,a,r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,console.log(t),a=t.data,r=a.content,200===a.statusCode&&(i=r.filter((function(e){var t=e.idVaksin,a=e.idPeternak,r=e.namaPeternak,i=e.kodeEartagNasional,o=e.idPejantan,c=e.idPembuatan,s=e.bangsaPejantan,l=e.produsen,u=e.inseminator,d=e.lokasi,p=n.state.searchKeyword.toLowerCase(),h="string"===typeof a,f="string"===typeof r,m="string"===typeof i,g="string"===typeof o,v="string"===typeof c,k="string"===typeof s,y="string"===typeof l,b="string"===typeof u,w="string"===typeof d;return"string"===typeof t&&t.toLowerCase().includes(p)||h&&a.toLowerCase().includes(p)||f&&r.toLowerCase().includes(p)||m&&i.toLowerCase().includes(p)||g&&o.toLowerCase().includes(p)||v&&c.toLowerCase().includes(p)||k&&s.toLowerCase().includes(p)||y&&l.toLowerCase().includes(p)||b&&u.toLowerCase().includes(p)||w&&d.toLowerCase().includes(p)})),n.setState({vaksin:i}));case 6:case"end":return e.stop()}}),e)}))),n.handleSearch=function(e){n.setState({searchKeyword:e},(function(){n.getVaksins()}))},n.getPeternaks=Object(k.a)(q().mark((function e(){var t,a,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)();case 2:t=e.sent,console.log(t),a=t.data,r=a.content,200===a.statusCode&&n.setState({peternaks:r});case 6:case"end":return e.stop()}}),e)}))),n.handleEditVaksin=function(e){n.setState({currentRowData:Object.assign({},e),editVaksinModalVisible:!0})},n.handleEditVaksinOk=function(e){var t=n.editVaksinFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({editVaksinModalLoading:!0}),x(a,a.idVaksin).then((function(e){t.resetFields(),n.setState({editVaksinModalVisible:!1,editVaksinModalLoading:!1}),p.a.success("Berhasil diedit!"),n.getVaksins()})).catch((function(e){p.a.success("Pengeditan gagal, harap coba lagi!")})))}))},n.handleDeleteVaksin=function(e){var t=e.idVaksin;d.a.confirm({title:"Konfirmasi",content:"Apakah Anda yakin ingin menghapus data ini?",okText:"Ya",okType:"danger",cancelText:"Tidak",onOk:function(){j({idVaksin:t}).then((function(e){p.a.success("Berhasil dihapus"),n.getVaksins()}))}})},n.handleCancel=function(e){n.setState({editVaksinModalVisible:!1,addVaksinModalVisible:!1,importModalVisible:!1})},n.handleAddVaksin=function(e){n.setState({addVaksinModalVisible:!0})},n.handleAddVaksinOk=function(e){var t=n.addVaksinFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({addVaksinModalLoading:!0}),P(a).then((function(e){t.resetFields(),n.setState({addVaksinModalVisible:!1,addVaksinModalLoading:!1}),p.a.success("Berhasil menambahkan!"),n.getVaksins()})).catch((function(e){p.a.success("Gagal menambahkan, harap coba lagi!")})))}))},n.handleImportModalOpen=function(){n.setState({importModalVisible:!0})},n.handleImportModalClose=function(){n.setState({importModalVisible:!1})},n.handleFileImport=function(e){var t=new FileReader;t.onload=function(t){var a=new Uint8Array(t.target.result),r=Object(V.read)(a,{type:"array"}),i=r.Sheets[r.SheetNames[0]],o=V.utils.sheet_to_json(i,{header:1}),c=o.slice(1),s=o[0],l=e.name.toLowerCase();n.setState({importedData:c,columnTitles:s,fileName:l});var u={};s.forEach((function(e,t){u[e]=t})),n.setState({columnMapping:u})},t.readAsArrayBuffer(e)},n.handleUpload=function(){var e=n.state,t=e.importedData,a=e.columnMapping;0!==t.length?(n.setState({uploading:!0}),setTimeout((function(){n.setState({uploading:!1,importModalVisible:!1}),p.a.success("File uploaded successfully"),n.saveImportedData(a)}),2e3)):p.a.error("No data to import.")},n.saveImportedData=function(){var e=Object(k.a)(q().mark((function e(t){var a,r,i,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.importedData,r=!1,i=0,o=0,e.prev=4,e.next=7,Promise.all(a.map(function(){var e=Object(k.a)(q().mark((function e(a){var n,c;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idVaksin:a[t.ID],tanggalIB:new Date(86400*(a[t["Tanggal IB"]]-25569)*1e3).toString(),lokasi:a[t.Lokasi],idPeternak:a[t["ID Peternak"]],kodeEartagNasional:a[t.Eartag],ib1:a[t["IB 1"]],ib2:a[t["IB 2"]],ib3:a[t["IB 3"]],ibLain:a[t["IB lain"]],idPejantan:a[t["ID Pejantan"]],idPembuatan:a[t["ID Pembuatan"]],bangsaPejantan:a[t["Bangsa Pejantan"]],produsen:a[t.Produsen],inseminator:a[t.Inseminator]},e.prev=1,e.next=4,U(n);case 4:if(c=e.sent){e.next=10;break}return e.next=8,P(n);case 8:e.next=19;break;case 10:if(!c){e.next=17;break}return Object(u.a)("isDataExists"),e.next=14,x(n);case 14:o+=1,e.next=19;break;case 17:r=!0,i+=1;case 19:o+=1,e.next=27;break;case 22:e.prev=22,e.t0=e.catch(1),console.error("Gagal menyimpan data:",e.t0),r=!0,i+=1;case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n.setState({importedData:[],columnTitles:[],columnMapping:{}}),r?(p.a.error("Gagal menyimpan ".concat(i," data, harap coba lagi!")),p.a.success("Berhasil mengedit ".concat(o," data"))):(p.a.success("Data berhasil disimpan ke database."),p.a.success("Berhasil mengedit ".concat(o," data"))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),p.a.error("Gagal menyimpan data: "+e.t0.message);case 15:return e.prev=15,n.setState({uploading:!1,importModalVisible:!1}),n.getVaksins(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,11,15,19]])})));return function(t){return e.apply(this,arguments)}}(),n.handleExportData=function(){var e=n.state.vaksin,t=n.convertToCSV(e);n.downloadCSV(t)},n.convertToCSV=function(e){var t=[["ID Vaksin","Tanggal IB","Lokasi","Nama Peternak","ID Peternak","ID Hewan","Eartag","IB 1","IB 2","IB 3","IB Lain","ID Pejantan","ID Pembuatan","Bangsa Pejantan","Produsen","Inseminator"]];e.forEach((function(e){var a=[e.idVaksin,e.tanggalIB,e.lokasi,e.namaPeternak,e.idPeternak,e.kodeEartagNasional,e.ib1,e.ib2,e.ib3,e.ibLain,e.idPejantan,e.idPembuatan,e.bangsaPejantan,e.produsen,e.inseminator];t.push(a)}));var a="data:text/csv;charset=utf-8,";return t.forEach((function(e){var t=e.join(";");a+=t+"\r\n"})),a},n.downloadCSV=function(e){var t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","Vaksin.csv"),document.body.appendChild(a),a.click()},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getVaksins(),this.getPeternaks(),Object(H.a)().then((function(t){e.setState({user:t.data})})).catch((function(e){console.error("Terjadi kesalahan saat mengambil data user:",e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.vaksin,u=(t.peternaks,t.importModalVisible),p=t.searchKeyword,h=t.user,f=[{title:"ID Vaksin",dataIndex:"idVaksin",key:"idVaksin"},{title:"Tanggal IB",dataIndex:"tanggalIB",key:"tanggalIB"},{title:"Lokasi",dataIndex:"lokasi",key:"lokasi"},{title:"Nama Peternak",dataIndex:["idPeternak","namaPeternak"],key:"namaPeternak"},{title:"ID Peternak",dataIndex:["idPeternak","idPeternak"],key:"idPeternak"},{title:"Kode Eartag",dataIndex:["kodeEartagNasional","kodeEartagNasional"],key:"kodeEartagNasional"},{title:"IB 1",dataIndex:"ib1",key:"ib1"},{title:"IB 2",dataIndex:"ib2",key:"ib2"},{title:"IB 3",dataIndex:"ib3",key:"ib3"},{title:"IB Lain",dataIndex:"ibLain",key:"ibLain"},{title:"ID Pejantan",dataIndex:"idPejantan",key:"idPejantan"},{title:"ID Pembuatan",dataIndex:"idPembuatan",key:"idPembuatan"},{title:"Bangsa Pejantan",dataIndex:"bangsaPejantan",key:"bangsaPejantan"},{title:"Produsen",dataIndex:"produsen",key:"produsen"},{title:"inseminator",dataIndex:"inseminator",key:"inseminator"}],m=function(){return h&&h.role,f.push({title:"Operasi",key:"action",width:120,align:"center",render:function(t,a){return w.a.createElement("span",null,w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"edit",title:"Edit",onClick:function(){return e.handleEditVaksin(a)}}),w.a.createElement(o.a,{type:"vertical"}),w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"delete",title:"Delete",onClick:function(){return e.handleDeleteVaksin(a)}}))}}),f},g=w.a.createElement(c.a,{gutter:[16,16],justify:"start"},!h||"ROLE_ADMINISTRATOR"!==h.role&&"ROLE_PETUGAS"!==h.role?null:w.a.createElement(c.a,{gutter:[16,16],justify:"start",style:{paddingLeft:9}},w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{type:"primary",onClick:e.handleAddVaksin},"Tambah Vaksin")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(O.a,null),onClick:e.handleImportModalOpen},"Import File")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(O.a,null),onClick:e.handleExportData},"Export File"))),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(i.a,{placeholder:"Cari data",value:p,onChange:function(t){return e.handleSearch(t.target.value)},style:{width:235,marginRight:10}}))),v=(h?h.role:"").role;console.log("peran pengguna:",v);return w.a.createElement("div",{className:"app-container"},w.a.createElement(K.a,{title:"Manajemen Vaksin Buatan",source:"Di sini, Anda dapat mengelola daftar vaksin di sistem."}),w.a.createElement("br",null),w.a.createElement(r.a,{title:g,style:{overflowX:"scroll"}},h&&"ROLE_PETERNAK"===h.role?w.a.createElement(y.a,{dataSource:a,bordered:!0,columns:f}):(h&&h.role,w.a.createElement(y.a,{dataSource:a,bordered:!0,columns:f&&m()}))),w.a.createElement(R,{currentRowData:this.state.currentRowData,wrappedComponentRef:function(t){return e.editVaksinFormRef=t},visible:this.state.editVaksinModalVisible,confirmLoading:this.state.editVaksinModalLoading,onCancel:this.handleCancel,onOk:this.handleEditVaksinOk}),w.a.createElement(_,{wrappedComponentRef:function(t){return e.addVaksinFormRef=t},visible:this.state.addVaksinModalVisible,confirmLoading:this.state.addVaksinModalLoading,onCancel:this.handleCancel,onOk:this.handleAddVaksinOk}),w.a.createElement(d.a,{title:"Import File",visible:u,onCancel:this.handleImportModalClose,footer:[w.a.createElement(l.a,{key:"cancel",onClick:this.handleImportModalClose},"Cancel"),w.a.createElement(l.a,{key:"upload",type:"primary",loading:this.state.uploading,onClick:this.handleUpload},"Upload")]},w.a.createElement(n.a,{beforeUpload:this.handleFileImport},w.a.createElement(l.a,{icon:w.a.createElement(O.a,null)},"Pilih File"))))}}]),a}(b.Component);t.default=Y},620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return c}));var n=a(34);function r(e){return Object(n.a)({url:"/peternak",method:"post",data:e})}function i(){return Object(n.a)({url:"/peternak",method:"get"})}function o(e,t){return Object(n.a)({url:"/peternak/".concat(t),method:"put",data:e})}function c(e){return Object(n.a)({url:"/peternak/".concat(e.idPeternak),method:"delete",data:e})}},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return s}));var n=a(34);function r(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("alamat",e.alamat),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),t.append("file",e.file.file),Object(n.a)({url:"/hewan",method:"post",data:t})}function i(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan",method:"post",data:t})}function o(){return Object(n.a)({url:"/hewan",method:"get"})}function c(e,t){var a=new FormData;return a.append("kodeEartagNasional",e.kodeEartagNasional),a.append("noKartuTernak",e.noKartuTernak),a.append("provinsi",e.provinsi),a.append("kabupaten",e.kabupaten),a.append("kecamatan",e.kecamatan),a.append("desa",e.desa),a.append("idPeternak",e.idPeternak),a.append("idKandang",e.idKandang),a.append("spesies",e.spesies),a.append("sex",e.sex),a.append("umur",e.umur),a.append("identifikasiHewan",e.identifikasiHewan),a.append("petugasPendaftar",e.petugasPendaftar),a.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan/".concat(t),method:"put",data:a})}function s(e){return Object(n.a)({url:"/hewan/".concat(e.kodeEartagNasional),method:"delete",data:e})}}}]);