/*! For license information please see Peternak.4e492c7a.chunk.js.LICENSE.txt */
(this.webpackJsonpreact_antd_admin_template=this.webpackJsonpreact_antd_admin_template||[]).push([[6],{1338:function(e,t,a){"use strict";a.r(t),a.d(t,"checkIfDataExists",(function(){return q}));a(295);var n=a(221),r=(a(219),a(131)),i=(a(128),a(33)),o=(a(222),a(103)),c=(a(178),a(53)),s=(a(179),a(31)),l=(a(101),a(30)),u=a(223),d=(a(129),a(69)),h=(a(132),a(35)),f=a(72),p=a(28),m=a(29),g=a(51),v=a(50),y=a(70),k=(a(296),a(133)),b=a(0),w=a.n(b),E=a(620),P=a(34);function I(e){return Object(P.a)({url:"/inseminasi",method:"post",data:e})}function L(){return Object(P.a)({url:"/inseminasi",method:"get"})}function x(e,t){return Object(P.a)({url:"/inseminasi/".concat(t),method:"put",data:e})}function O(e){return Object(P.a)({url:"/inseminasi/".concat(e.idInseminasi),method:"delete",data:e})}var j=a(601),S=a(180),C=(a(134),a(176),a(19)),N=(a(177),a(27)),B=a(130),D=a(624);function M(){M=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return O()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var F=N.a.Option,_=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(M().mark((function t(){var a,n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(y.a)(M().mark((function t(){var a,n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(y.a)(M().mark((function t(){var a,n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null,namaPeternak:a?a.name:null})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=r.getFieldDecorator,s=this.state,l=s.provinces,u=s.regencies,h=s.districts,f=s.villages,p=this.state,m=p.petugasList,g=(p.namaPeternakList,p.selectedNamaPeternakId,p.hewanList);return w.a.createElement(d.a,{title:"Tambah Data Inseminasi Buatan",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(C.a,{form:r,name:"validateOnly",layout:"vertical",autoComplete:"off"},w.a.createElement(C.a.Item,{label:"ID Inseminasi:"},c("idInseminasi",{rules:[{required:!0,message:"Silahkan isi id inseminasi buatan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Inseminasi"}))),w.a.createElement(C.a.Item,{label:"Provinsi:"},c("provinsi")(w.a.createElement(N.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},l.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Kabupaten:"},c("kabupaten")(w.a.createElement(N.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},u.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Kecamatan:"},c("kecamatan")(w.a.createElement(N.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},h.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Desa:"},c("desa")(w.a.createElement(N.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},f.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Lokasi:"},c("lokasi",{rules:[{required:!0,message:"Silahkan isi lokasi"}]})(w.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),w.a.createElement(C.a.Item,{label:"ID Peternak:"},c("idPeternak",{})(w.a.createElement(N.a,{placeholder:"Pilih ID Peternak",onChange:this.handleNamaPeternakChange,value:this.state.selectedNamaPeternakId},this.state.namaPeternakList.map((function(e){return w.a.createElement(F,{key:e.id,value:e.id},e.id)}))))),w.a.createElement(C.a.Item,{label:"Nama Peternak:"},c("namaPeternak",{rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(w.a.createElement(i.a,{disabled:!0}))),w.a.createElement(C.a.Item,{label:"Eartag Hewan:"},c("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi Eartag Hewan"}]})(w.a.createElement(N.a,{placeholder:"Pilih Eartag"},g.map((function(e){return w.a.createElement(F,{key:e,value:e},e)}))))),w.a.createElement(C.a.Item,{label:"IB 1:"},c("ib1",{})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 1"}))),w.a.createElement(C.a.Item,{label:"IB 2:"},c("ib2",{})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 2"}))),w.a.createElement(C.a.Item,{label:"IB 3:"},c("ib3",{})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 3"}))),w.a.createElement(C.a.Item,{label:"IB Lain:"},c("ibLain",{})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan Lain"}))),w.a.createElement(C.a.Item,{label:"Tanggal IB:"},c("tanggalIB",{rules:[{required:!0,message:"Silahkan isi tanggal inseminasi buatan"}]})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal IB"}))),w.a.createElement(C.a.Item,{label:"ID Pejantan:"},c("idPejantan",{rules:[{required:!0,message:"Silahkan isi id pejantan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pejantan"}))),w.a.createElement(C.a.Item,{label:"ID Pembuatan:"},c("idPembuatan",{rules:[{required:!0,message:"Silahkan isi id pembuatan"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pembuatan"}))),w.a.createElement(C.a.Item,{label:"Bangsa Pejantan:"},c("bangsaPejantan",{initialValue:"Sapi Limosin"})(w.a.createElement(N.a,{style:{width:150}},w.a.createElement(N.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),w.a.createElement(N.a.Option,{value:"Sapi Simental"},"Sapi Simental"),w.a.createElement(N.a.Option,{value:"Sapi FH"},"Sapi FH")))),w.a.createElement(C.a.Item,{label:"Produsen:"},c("produsen",{initialValue:"BBIB Singosari"})(w.a.createElement(N.a,{style:{width:150}},w.a.createElement(N.a.Option,{value:"BBIB Singosari"},"BBIB Singosari"),w.a.createElement(N.a.Option,{value:"BIB Lembang"},"BIB Lembang")))),w.a.createElement(C.a.Item,{label:"Inseminator:"},c("inseminator",{rules:[{required:!0,message:"Silahkan isi Inseminator"}]})(w.a.createElement(N.a,{placeholder:"Pilih Inseminator"},m.map((function(e){return w.a.createElement(F,{key:e,value:e},e)})))))))}}]),a}(b.Component),V=C.a.create({name:"AddInseminasiBuatanForm"})(_);function T(){T=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return O()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var A=N.a.Option,G=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(y.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(y.a)(T().mark((function t(){var a,n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id||e.namaPeternak===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=e.currentRowData,s=r.getFieldDecorator,l=this.state,u=l.provinces,h=l.regencies,f=l.districts,p=l.villages,m=this.state,g=m.petugasList,v=m.namaPeternakList,y=m.selectedNamaPeternakId,k=m.hewanList,b=c.idInseminasi,E=c.tanggalIB,P=c.lokasi,I=c.namaPeternak,L=c.idPeternak,x=(c.idHewan,c.eartag,c.ib1),O=c.ib2,j=c.ib3,S=c.ibLain,B=c.idPejantan,D=c.idPembuatan,M=c.bangsaPejantan,F=c.produsen,_=c.inseminator,V={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return w.a.createElement(d.a,{title:"Edit Inseminasi Buatan",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(C.a,V,w.a.createElement(C.a.Item,{label:"ID Inseminasi:"},s("idInseminasi",{initialValue:b})(w.a.createElement(i.a,{disabled:!0}))),w.a.createElement(C.a.Item,{label:"Tanggal IB:"},s("tanggalIB",{initialValue:E})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal IB"}))),w.a.createElement(C.a.Item,{label:"Provinsi:"},s("provinsi")(w.a.createElement(N.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},u.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Kabupaten:"},s("kabupaten")(w.a.createElement(N.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},h.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Kecamatan:"},s("kecamatan")(w.a.createElement(N.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},f.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Desa:"},s("desa")(w.a.createElement(N.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},p.map((function(e){return w.a.createElement(N.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"Lokasi:"},s("lokasi",{initialValue:P})(w.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),w.a.createElement(C.a.Item,{label:"Nama Peternak:"},s("namaPeternak",{initialValue:I,rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(w.a.createElement(N.a,{placeholder:"Pilih Nama Peternak",onChange:this.handleNamaPeternakChange,value:y},v.map((function(e){return w.a.createElement(A,{key:e.name,value:e.name},e.name)}))))),w.a.createElement(C.a.Item,{label:"ID Peternak:"},s("idPeternak",{initialValue:L,rules:[{required:!0,message:"Silahkan isi id peternak"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Peternak",readOnly:!0}))),w.a.createElement(C.a.Item,{label:"Eartag Hewan:"},s("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi Eartag Hewan"}]})(w.a.createElement(N.a,{placeholder:"Pilih Eartag"},k.map((function(e){return w.a.createElement(A,{key:e,value:e},e)}))))),w.a.createElement(C.a.Item,{label:"IB 1:"},s("ib1",{initialValue:x})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 1"}))),w.a.createElement(C.a.Item,{label:"IB 2:"},s("ib2",{initialValue:O})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 2"}))),w.a.createElement(C.a.Item,{label:"IB 3:"},s("ib3",{initialValue:j})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan 3"}))),w.a.createElement(C.a.Item,{label:"IB 1:"},s("ibLain",{initialValue:S})(w.a.createElement(i.a,{placeholder:"Masukkan Inseminasi Buatan Lain"}))),w.a.createElement(C.a.Item,{label:"ID Pejantan:"},s("idPejantan",{initialValue:B})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pejantan"}))),w.a.createElement(C.a.Item,{label:"ID Pembuatan:"},s("idPembuatan",{initialValue:D})(w.a.createElement(i.a,{placeholder:"Masukkan ID Pembuatan"}))),w.a.createElement(C.a.Item,{label:"Bangsa Pejantan:"},s("bangsaPejantan",{initialValue:M})(w.a.createElement(N.a,{style:{width:150}},w.a.createElement(N.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),w.a.createElement(N.a.Option,{value:"Sapi Simental"},"Sapi Simental"),w.a.createElement(N.a.Option,{value:"Sapi FH"},"Sapi FH")))),w.a.createElement(C.a.Item,{label:"Produsen:"},s("produsen",{initialValue:F})(w.a.createElement(N.a,{style:{width:150}},w.a.createElement(N.a.Option,{value:"BBIB Singosari"},"BBIB Singosari"),w.a.createElement(N.a.Option,{value:"BBIB Lembang"},"BIB Lembang")))),w.a.createElement(C.a.Item,{label:"Inseminator:"},s("inseminator",{initialValue:_})(w.a.createElement(N.a,null,g.map((function(e){return w.a.createElement(A,{key:e,value:e},e)})))))))}}]),a}(b.Component),K=C.a.create({name:"EditInseminasiBuatanForm"})(G),R=a(220),H=a(102);function Y(){Y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return O()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}k.a.Column;var q=function(){var e=Object(y.a)(Y().mark((function e(t){var a,n,r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:if(a=e.sent,n=a.data,r=n.content,200!==n.statusCode){e.next=16;break}if(!(i=r.find((function(e){return e.idInseminasi===t.idInseminasi})))){e.next=13;break}return e.next=10,x(i.idInseminasi,t);case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=18;break;case 16:return console.error("Gagal memeriksa data:",a),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("Gagal memeriksa data:",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e,n;Object(p.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))).state=(e={inseminasiBuatans:[],peternaks:[],editInseminasiBuatanModalVisible:!1,editInseminasiBuatanModalLoading:!1,currentRowData:{},addInseminasiBuatanModalVisible:!1,addInseminasiBuatanModalLoading:!1,importModalVisible:!1,importedData:[],columnTitles:[],fileName:"",uploading:!1},Object(f.a)(e,"importModalVisible",!1),Object(f.a)(e,"columnMapping",{}),Object(f.a)(e,"searchKeyword",""),Object(f.a)(e,"user",null),e),n.getInseminasiBuatans=Object(y.a)(Y().mark((function e(){var t,a,r,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,console.log(t),a=t.data,r=a.content,200===a.statusCode&&(i=r.filter((function(e){var t=e.idInseminasi,a=e.idPeternak,r=e.namaPeternak,i=e.kodeEartagNasional,o=e.idPejantan,c=e.idPembuatan,s=e.bangsaPejantan,l=e.produsen,u=e.inseminator,d=e.lokasi,h=n.state.searchKeyword.toLowerCase(),f="string"===typeof a,p="string"===typeof r,m="string"===typeof i,g="string"===typeof o,v="string"===typeof c,y="string"===typeof s,k="string"===typeof l,b="string"===typeof u,w="string"===typeof d;return"string"===typeof t&&t.toLowerCase().includes(h)||f&&a.toLowerCase().includes(h)||p&&r.toLowerCase().includes(h)||m&&i.toLowerCase().includes(h)||g&&o.toLowerCase().includes(h)||v&&c.toLowerCase().includes(h)||y&&s.toLowerCase().includes(h)||k&&l.toLowerCase().includes(h)||b&&u.toLowerCase().includes(h)||w&&d.toLowerCase().includes(h)})),n.setState({inseminasiBuatans:i}));case 6:case"end":return e.stop()}}),e)}))),n.handleSearch=function(e){n.setState({searchKeyword:e},(function(){n.getInseminasiBuatans()}))},n.getPeternaks=Object(y.a)(Y().mark((function e(){var t,a,r;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)();case 2:t=e.sent,console.log(t),a=t.data,r=a.content,200===a.statusCode&&n.setState({peternaks:r});case 6:case"end":return e.stop()}}),e)}))),n.handleEditInseminasiBuatan=function(e){n.setState({currentRowData:Object.assign({},e),editInseminasiBuatanModalVisible:!0})},n.handleEditInseminasiBuatanOk=function(e){var t=n.editInseminasiBuatanFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({editInseminasiBuatanModalLoading:!0}),x(a,a.idInseminasi).then((function(e){t.resetFields(),n.setState({editInseminasiBuatanModalVisible:!1,editInseminasiBuatanModalLoading:!1}),h.a.success("Berhasil diedit!"),n.getInseminasiBuatans()})).catch((function(e){h.a.success("Pengeditan gagal, harap coba lagi!")})))}))},n.handleDeleteInseminasiBuatan=function(e){var t=e.idInseminasi;d.a.confirm({title:"Konfirmasi",content:"Apakah Anda yakin ingin menghapus data ini?",okText:"Ya",okType:"danger",cancelText:"Tidak",onOk:function(){O({idInseminasi:t}).then((function(e){h.a.success("Berhasil dihapus"),n.getInseminasiBuatans()}))}})},n.handleCancel=function(e){n.setState({editInseminasiBuatanModalVisible:!1,addInseminasiBuatanModalVisible:!1,importModalVisible:!1})},n.handleAddInseminasiBuatan=function(e){n.setState({addInseminasiBuatanModalVisible:!0})},n.handleAddInseminasiBuatanOk=function(e){var t=n.addInseminasiBuatanFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({addInseminasiBuatanModalLoading:!0}),I(a).then((function(e){t.resetFields(),n.setState({addInseminasiBuatanModalVisible:!1,addInseminasiBuatanModalLoading:!1}),h.a.success("Berhasil menambahkan!"),n.getInseminasiBuatans()})).catch((function(e){h.a.success("Gagal menambahkan, harap coba lagi!")})))}))},n.handleImportModalOpen=function(){n.setState({importModalVisible:!0})},n.handleImportModalClose=function(){n.setState({importModalVisible:!1})},n.handleFileImport=function(e){var t=new FileReader;t.onload=function(t){var a=new Uint8Array(t.target.result),r=Object(S.read)(a,{type:"array"}),i=r.Sheets[r.SheetNames[0]],o=S.utils.sheet_to_json(i,{header:1}),c=o.slice(1),s=o[0],l=e.name.toLowerCase();n.setState({importedData:c,columnTitles:s,fileName:l});var u={};s.forEach((function(e,t){u[e]=t})),n.setState({columnMapping:u})},t.readAsArrayBuffer(e)},n.handleUpload=function(){var e=n.state,t=e.importedData,a=e.columnMapping;0!==t.length?(n.setState({uploading:!0}),setTimeout((function(){n.setState({uploading:!1,importModalVisible:!1}),h.a.success("File uploaded successfully"),n.saveImportedData(a)}),2e3)):h.a.error("No data to import.")},n.saveImportedData=function(){var e=Object(y.a)(Y().mark((function e(t){var a,r,i,o;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.importedData,r=!1,i=0,o=0,e.prev=4,e.next=7,Promise.all(a.map(function(){var e=Object(y.a)(Y().mark((function e(a){var n,c;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idInseminasi:a[t.ID],tanggalIB:new Date(86400*(a[t["Tanggal IB"]]-25569)*1e3).toString(),lokasi:a[t.Lokasi],namaPeternak:a[t["Nama Peternak"]],idPeternak:a[t["ID Peternak"]],kodeEartagNasional:a[t.Eartag],ib1:a[t["IB 1"]],ib2:a[t["IB 2"]],ib3:a[t["IB 3"]],ibLain:a[t["IB lain"]],idPejantan:a[t["ID Pejantan"]],idPembuatan:a[t["ID Pembuatan"]],bangsaPejantan:a[t["Bangsa Pejantan"]],produsen:a[t.Produsen],inseminator:a[t.Inseminator]},e.prev=1,e.next=4,q(n);case 4:if(c=e.sent){e.next=10;break}return e.next=8,I(n);case 8:e.next=19;break;case 10:if(!c){e.next=17;break}return Object(u.a)("isDataExists"),e.next=14,x(n);case 14:o+=1,e.next=19;break;case 17:r=!0,i+=1;case 19:o+=1,e.next=27;break;case 22:e.prev=22,e.t0=e.catch(1),console.error("Gagal menyimpan data:",e.t0),r=!0,i+=1;case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n.setState({importedData:[],columnTitles:[],columnMapping:{}}),r?(h.a.error("Gagal menyimpan ".concat(i," data, harap coba lagi!")),h.a.success("Berhasil mengedit ".concat(o," data"))):(h.a.success("Data berhasil disimpan ke database."),h.a.success("Berhasil mengedit ".concat(o," data"))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),h.a.error("Gagal menyimpan data: "+e.t0.message);case 15:return e.prev=15,n.setState({uploading:!1,importModalVisible:!1}),n.getInseminasiBuatans(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,11,15,19]])})));return function(t){return e.apply(this,arguments)}}(),n.handleExportData=function(){var e=n.state.inseminasiBuatans,t=n.convertToCSV(e);n.downloadCSV(t)},n.convertToCSV=function(e){var t=[["ID Inseminasi","Tanggal IB","Lokasi","Nama Peternak","ID Peternak","Kode Eartag","IB 1","IB 2","IB 3","IB Lain","ID Pejantan","ID Pembuatan","Bangsa Pejantan","Produsen","Inseminator"]];e.forEach((function(e){var a=[e.idInseminasi,e.tanggalIB,e.lokasi,e.namaPeternak,e.idPeternak,e.kodeEartagNasional,e.ib1,e.ib2,e.ib3,e.ibLain,e.idPejantan,e.idPembuatan,e.bangsaPejantan,e.produsen,e.inseminator];t.push(a)}));var a="data:text/csv;charset=utf-8,";return t.forEach((function(e){var t=e.join(";");a+=t+"\r\n"})),a},n.downloadCSV=function(e){var t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","InseminasiBuatan.csv"),document.body.appendChild(a),a.click()},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getInseminasiBuatans(),this.getPeternaks(),Object(H.a)().then((function(t){e.setState({user:t.data})})).catch((function(e){console.error("Terjadi kesalahan saat mengambil data user:",e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.inseminasiBuatans,u=(t.peternaks,t.importModalVisible),h=t.searchKeyword,f=t.user,p=[{title:"ID Inseminasi",dataIndex:"idInseminasi",key:"idInseminasi"},{title:"Tanggal IB",dataIndex:"tanggalIB",key:"tanggalIB"},{title:"Lokasi",dataIndex:"lokasi",key:"lokasi"},{title:"Nama Peternak",dataIndex:["idPeternak","namaPeternak"],key:"namaPeternak"},{title:"ID Peternak",dataIndex:["idPeternak","idPeternak"],key:"idPeternak"},{title:"Kode Eartag",dataIndex:["kodeEartagNasional","kodeEartagNasional"],key:"kodeEartagNasional"},{title:"IB 1",dataIndex:"ib1",key:"ib1"},{title:"IB 2",dataIndex:"ib2",key:"ib2"},{title:"IB 3",dataIndex:"ib3",key:"ib3"},{title:"IB Lain",dataIndex:"ibLain",key:"ibLain"},{title:"ID Pejantan",dataIndex:"idPejantan",key:"idPejantan"},{title:"ID Pembuatan",dataIndex:"idPembuatan",key:"idPembuatan"},{title:"Bangsa Pejantan",dataIndex:"bangsaPejantan",key:"bangsaPejantan"},{title:"Produsen",dataIndex:"produsen",key:"produsen"},{title:"inseminator",dataIndex:"inseminator",key:"inseminator"}],m=function(){return f&&f.role,p.push({title:"Operasi",key:"action",width:120,align:"center",render:function(t,a){return w.a.createElement("span",null,w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"edit",title:"Edit",onClick:function(){return e.handleEditInseminasiBuatan(a)}}),w.a.createElement(o.a,{type:"vertical"}),w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"delete",title:"Delete",onClick:function(){return e.handleDeleteInseminasiBuatan(a)}}))}}),p},g=w.a.createElement(c.a,{gutter:[16,16],justify:"start"},!f||"ROLE_ADMINISTRATOR"!==f.role&&"ROLE_PETUGAS"!==f.role?null:w.a.createElement(c.a,{gutter:[16,16],justify:"start",style:{paddingLeft:9}},w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{type:"primary",onClick:e.handleAddInseminasiBuatan},"Tambah Inseminasi Buatan")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(j.a,null),onClick:e.handleImportModalOpen},"Import File")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(j.a,null),onClick:e.handleExportData},"Export File"))),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(i.a,{placeholder:"Cari data",value:h,onChange:function(t){return e.handleSearch(t.target.value)},style:{width:235,marginRight:10}}))),v=(f?f.role:"").role;console.log("peran pengguna:",v);return w.a.createElement("div",{className:"app-container"},w.a.createElement(R.a,{title:"Manajemen Inseminasi Buatan",source:"Di sini, Anda dapat mengelola daftar inseminasi di sistem."}),w.a.createElement("br",null),w.a.createElement(r.a,{title:g,style:{overflowX:"scroll"}},f&&"ROLE_PETERNAK"===f.role?w.a.createElement(k.a,{dataSource:a,bordered:!0,columns:p}):(f&&f.role,w.a.createElement(k.a,{dataSource:a,bordered:!0,columns:p&&m()}))),w.a.createElement(K,{currentRowData:this.state.currentRowData,wrappedComponentRef:function(t){return e.editInseminasiBuatanFormRef=t},visible:this.state.editInseminasiBuatanModalVisible,confirmLoading:this.state.editInseminasiBuatanModalLoading,onCancel:this.handleCancel,onOk:this.handleEditInseminasiBuatanOk}),w.a.createElement(V,{wrappedComponentRef:function(t){return e.addInseminasiBuatanFormRef=t},visible:this.state.addInseminasiBuatanModalVisible,confirmLoading:this.state.addInseminasiBuatanModalLoading,onCancel:this.handleCancel,onOk:this.handleAddInseminasiBuatanOk}),w.a.createElement(d.a,{title:"Import File",visible:u,onCancel:this.handleImportModalClose,footer:[w.a.createElement(l.a,{key:"cancel",onClick:this.handleImportModalClose},"Cancel"),w.a.createElement(l.a,{key:"upload",type:"primary",loading:this.state.uploading,onClick:this.handleUpload},"Upload")]},w.a.createElement(n.a,{beforeUpload:this.handleFileImport},w.a.createElement(l.a,{icon:w.a.createElement(j.a,null)},"Pilih File"))))}}]),a}(b.Component);t.default=U},1342:function(e,t,a){"use strict";a.r(t),a.d(t,"checkIfDataExists",(function(){return K}));a(295);var n=a(221),r=(a(219),a(131)),i=(a(128),a(33)),o=(a(222),a(103)),c=(a(178),a(53)),s=(a(179),a(31)),l=(a(101),a(30)),u=a(40),d=a(223),h=(a(132),a(35)),f=(a(129),a(69)),p=a(28),m=a(29),g=a(51),v=a(50),y=a(70),k=(a(296),a(133)),b=a(0),w=a.n(b),E=a(620),P=a(220),I=(a(176),a(19)),L=(a(177),a(27)),x=a(130);function O(){O=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return j()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var j=L.a.Option,S=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],petugasList:[]},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(O().mark((function t(){var a,n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=e.currentRowData,s=this.state,l=s.provinces,u=s.regencies,d=s.districts,h=s.villages,p=r.getFieldDecorator,m=c.idPeternak,g=c.namaPeternak,v=c.idISIKHNAS,y=c.nikPeternak,k=c.lokasi,b=c.petugasPendaftar,E=c.tanggalPendaftaran,P={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},x=this.state.petugasList;return w.a.createElement(f.a,{title:"Edit Peternak",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(I.a,P,w.a.createElement(I.a.Item,{label:"ID Peternak:"},p("idPeternak",{initialValue:m})(w.a.createElement(i.a,null))),w.a.createElement(I.a.Item,{label:"Nama Peternak:"},p("namaPeternak",{initialValue:g})(w.a.createElement(i.a,{placeholder:"Masukkan Nama Peternak"}))),w.a.createElement(I.a.Item,{label:"ID ISIKHNAS:"},p("idISIKHNAS",{initialValue:v})(w.a.createElement(i.a,{placeholder:"Masukkan ID ISIKHNAS"}))),w.a.createElement(I.a.Item,{label:"NIK Peternak:"},p("nikPeternak",{initialValue:y})(w.a.createElement(i.a,{placeholder:"Masukkan NIK Peternak"}))),w.a.createElement(I.a.Item,{label:"Provinsi:"},p("provinsi")(w.a.createElement(L.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},l.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Kabupaten:"},p("kabupaten")(w.a.createElement(L.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},u.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Kecamatan:"},p("kecamatan")(w.a.createElement(L.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},d.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Desa:"},p("desa")(w.a.createElement(L.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},h.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Lokasi:"},p("lokasi",{initialValue:k})(w.a.createElement(i.a,{placeholder:"Masukkan Lokasi"}))),w.a.createElement(I.a.Item,{label:"Petugas Pendaftar:"},p("petugasPendaftar",{initialValue:b})(w.a.createElement(L.a,{placeholder:"Pilih Petugas Pendaftar"},x.map((function(e){return w.a.createElement(j,{key:e,value:e},e)}))))),w.a.createElement(I.a.Item,{label:"Tanggal Pendaftaran:"},p("tanggalPendaftaran",{initialValue:E})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal Pendaftaran"})))))}}]),a}(b.Component),C=I.a.create({name:"EditPeternakForm"})(S);function N(){N=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return O()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var B=L.a.Option,D=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],petugasList:[]},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,c=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),s=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),l=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(c&&s&&l&&u){var d="".concat(u.name,", ").concat(l.name,", ").concat(s.name,", ").concat(c.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(N().mark((function t(){var a,n,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,c=this.state,s=c.provinces,l=c.regencies,u=c.districts,d=c.villages,h=r.getFieldDecorator,p=this.state.petugasList;return w.a.createElement(f.a,{title:"Tambah Data Pemilik Ternak",visible:t,onCancel:a,onOk:n,confirmLoading:o},w.a.createElement(I.a,{form:r,name:"validateOnly",layout:"vertical",autoComplete:"off"},w.a.createElement(I.a.Item,{label:"ID Peternak:"},h("idPeternak",{rules:[{required:!0,message:"Silahkan isi id peternak"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID Peternak Unik"}))),w.a.createElement(I.a.Item,{label:"Nama Peternak:"},h("namaPeternak",{rules:[{required:!0,message:"Silahkan isi nama peternak"}]})(w.a.createElement(i.a,{placeholder:"Masukkan Nama Peternak"}))),w.a.createElement(I.a.Item,{label:"ID ISIKHNAS:"},h("idISIKHNAS",{rules:[{required:!0,message:"Silahkan isi id ISIKHNAS"}]})(w.a.createElement(i.a,{placeholder:"Masukkan ID ISIKHNAS"}))),w.a.createElement(I.a.Item,{label:"NIK Peternak:"},h("nikPeternak",{rules:[{required:!0,message:"Silahkan isi NIK Peternak"}]})(w.a.createElement(i.a,{placeholder:"Masukkan NIK Peternak"}))),w.a.createElement(I.a.Item,{label:"Provinsi:"},h("provinsi")(w.a.createElement(L.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},s.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Kabupaten:"},h("kabupaten")(w.a.createElement(L.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},l.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Kecamatan:"},h("kecamatan")(w.a.createElement(L.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},u.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Desa:"},h("desa")(w.a.createElement(L.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},d.map((function(e){return w.a.createElement(L.a.Option,{key:e.id,value:e.name},e.name)}))))),w.a.createElement(I.a.Item,{label:"Lokasi:"},h("lokasi",{rules:[{required:!0,message:"Silahkan isi lokasi"}]})(w.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),w.a.createElement(I.a.Item,{label:"Petugas Pendaftar:"},h("petugasPendaftar",{rules:[{required:!0,message:"Silahkan isi petugas pendaftar"}]})(w.a.createElement(L.a,{placeholder:"Pilih Petugas Pendaftar"},p.map((function(e){return w.a.createElement(B,{key:e,value:e},e)}))))),w.a.createElement(I.a.Item,{label:"Tanggal Pendaftaran:"},h("tanggalPendaftaran",{rules:[{required:!0,message:"Silahkan tanggal pendaftaran"}]})(w.a.createElement(i.a,{type:"date",placeholder:"Masukkan Tanggal Pendaftaran"})))))}}]),a}(b.Component),M=I.a.create({name:"AddPeternakForm"})(D),F=a(601),_=a(134),V=a.n(_),T=a(180),A=a(102);function G(){G=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,a){return e[t]=a}}function l(e,t,a,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),c=new L(r||[]);return n(o,"_invoke",{value:w(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function h(){}function f(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&a.call(v,i)&&(m=v);var y=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,c){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function w(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return O()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=E(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=u(e,t,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function E(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,n(y,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(l(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(y),s(y,c,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),I(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;I(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}k.a.Column;var K=function(){var e=Object(y.a)(G().mark((function e(t){var a,n,r,i;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.d)();case 3:if(a=e.sent,n=a.data,r=n.content,200!==n.statusCode){e.next=16;break}if(!(i=r.find((function(e){return e.nikPetugas===t.nikPetugas})))){e.next=13;break}return e.next=10,Object(E.c)(i.nikPetugas,t);case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=18;break;case 16:return console.error("Gagal memeriksa data:",a),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("Gagal memeriksa data:",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getPeternaks=Object(y.a)(G().mark((function e(){var t,a,r,i;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)();case 2:t=e.sent,a=t.data,r=a.content,200===a.statusCode&&(i=r.filter((function(e){var t=e.namaPeternak,a=e.nikPeternak,r=e.idPeternak,i=e.petugasPendaftar,o=e.lokasi,c=n.state.searchKeyword.toLowerCase(),s="string"===typeof a,l="string"===typeof r,u="string"===typeof i,d="string"===typeof o;return"string"===typeof t&&t.toLowerCase().includes(c)||s&&a.toLowerCase().includes(c)||l&&r.toLowerCase().includes(c)||u&&i.toLowerCase().includes(c)||d&&o.toLowerCase().includes(c)})),n.setState({peternaks:i}));case 5:case"end":return e.stop()}}),e)}))),n.handleSearch=function(e){n.setState({searchKeyword:e},(function(){n.getPeternaks()}))},n.handleEditPeternak=function(e){n.setState({currentRowData:Object.assign({},e),editPeternakModalVisible:!0})},n.handleDeletePeternak=function(e){var t=e.idPeternak;f.a.confirm({title:"Konfirmasi",content:"Apakah Anda yakin ingin menghapus data ini?",okText:"Ya",okType:"danger",cancelText:"Tidak",onOk:function(){Object(E.b)({idPeternak:t}).then((function(e){h.a.success("Berhasil dihapus"),n.getPeternaks()}))}})},n.handleEditPeternakOk=function(e){var t=n.editPeternakFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({editModalLoading:!0}),Object(E.c)(a,a.idPeternak).then((function(e){t.resetFields(),n.setState({editPeternakModalVisible:!1,editPeternakModalLoading:!1}),h.a.success("Berhasil diedit!"),n.getPeternaks()})).catch((function(e){h.a.success("Pengeditan gagal, harap coba lagi!")})))}))},n.handleImportModalOpen=function(){n.setState({importModalVisible:!0})},n.handleImportModalClose=function(){n.setState({importModalVisible:!1})},n.handleFileImport=function(e){var t=new FileReader;t.onload=function(t){var a=new Uint8Array(t.target.result),r=Object(T.read)(a,{type:"array"}),i=r.Sheets[r.SheetNames[0]],o=T.utils.sheet_to_json(i,{header:1}),c=o.slice(1),s=o[0],l=e.name.toLowerCase();n.setState({importedData:c,columnTitles:s,fileName:l});var u={};s.forEach((function(e,t){u[e]=t})),n.setState({columnMapping:u})},t.readAsArrayBuffer(e)},n.saveImportedData=function(){var e=Object(y.a)(G().mark((function e(t){var a,r,i,o;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.importedData,r=!1,i=0,o=0,e.prev=4,e.next=7,Promise.all(a.map(function(){var e=Object(y.a)(G().mark((function e(a){var c,s;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={idPeternak:a[t["No. Eartag***)"]||t.ID],nikPeternak:a[t["NIK Pemilik Ternak**)"]||t["NIK Peternak"]],namaPeternak:a[t["Nama Pemilik Ternak**)"]||t.nama],idISIKHNAS:a[t["ID isikhnas Pemilik**)"]||t["ID iSIKHNAS"]],lokasi:a[t["Alamat Pemilik Ternak**)"]||t.lokasi],petugasPendaftar:a[t["Petugas Pendaftar"]||t["Nama Petugas Pendataan*)"]],tanggalPendaftaran:a[t["Tanggal Pendataan"]]||n.convertToJSDate(a[t["Tanggal Pendaftaran"]])},e.prev=1,e.next=4,K(c);case 4:if(s=e.sent){e.next=10;break}return e.next=8,Object(E.a)(c);case 8:e.next=19;break;case 10:if(!s){e.next=17;break}return Object(d.a)("isDataExists"),e.next=14,Object(E.c)(c);case 14:o+=1,e.next=19;break;case 17:r=!0,i+=1;case 19:o+=1,e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),r=!0,i+=1;case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n.setState({importedData:[],columnTitles:[],columnMapping:{}}),r?(h.a.error("Gagal menyimpan ".concat(i," data, harap coba lagi!")),h.a.success("Berhasil mengedit ".concat(o," data"))):(h.a.success("Data berhasil disimpan ke database."),h.a.success("Berhasil mengedit ".concat(o," data"))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:return e.prev=14,n.setState({uploading:!1,importModalVisible:!1}),n.getPeternaks(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[4,11,14,18]])})));return function(t){return e.apply(this,arguments)}}(),n.handleCancel=function(e){n.setState({editPeternakModalVisible:!1,addPeternakModalVisible:!1})},n.handleAddPeternak=function(e){n.setState({addPeternakModalVisible:!0})},n.handleAddPeternakOk=function(e){var t=n.addPeternakFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({addPeternakModalLoading:!0}),Object(E.a)(a).then((function(e){t.resetFields(),n.setState({addPeternakModalVisible:!1,addPeternakModalLoading:!1}),h.a.success("Berhasil menambahkan!"),n.getPeternaks()})).catch((function(e){h.a.success("Gagal menambahkan, harap coba lagi!")})))}))},n.handleUpload=function(){var e=n.state,t=e.importedData,a=e.columnMapping;0!==t.length?(n.setState({uploading:!0}),setTimeout((function(){n.setState({uploading:!1,importModalVisible:!1}),n.saveImportedData(a)}),2e3)):h.a.error("No data to import.")},n.handleExportData=function(){var e=n.state.peternaks,t=n.convertToCSV(e);n.downloadCSV(t)},n.convertToCSV=function(e){var t=[["ID Peternak","Nama Peternak","ID ISIKHNAS","NIK Peternak","Lokasi","Petugas Pendafatar","Tanggal Pendafaran"]];e.forEach((function(e){var a=[e.idPeternak,e.namaPeternak,e.idISIKHNAS,e.nikPeternak,e.lokasi,e.petugasPendaftar,V()(e.tanggalPendaftaran).format("DD/MM/YYYY")];t.push(a)}));var a="data:text/csv;charset=utf-8,";return t.forEach((function(e){var t=e.join(";");a+=t+"\r\n"})),a},n.downloadCSV=function(e){var t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","Peternak.csv"),document.body.appendChild(a),a.click()},n.state={peternaks:[],editPeternakModalVisible:!1,editPeternakModalLoading:!1,currentRowData:{},addPeternakModalVisible:!1,addPeternakModalLoading:!1,importModalVisible:!1,importedData:[],searchKeyword:"",user:null},n}return Object(m.a)(a,[{key:"convertToJSDate",value:function(e){var t;if("number"===typeof e){var a=Math.floor(e-25569),n=new Date(1e3*(86400*a));t=new Date(n.getFullYear(),n.getMonth(),n.getDate()).toString()}else if("string"===typeof e){var r=e.split("/"),i=Object(u.a)(r,3),o=i[0],c=i[1],s=i[2];t=new Date("".concat(s,"-").concat(c,"-").concat(o)).toString()}return t}},{key:"componentDidMount",value:function(){var e=this;this.getPeternaks(),Object(A.a)().then((function(t){e.setState({user:t.data})})).catch((function(e){console.error("Terjadi kesalahan saat mengambil data user:",e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.peternaks,u=t.importModalVisible,d=t.searchKeyword,h=t.user,p=[{title:"ID Peternak",dataIndex:"idPeternak",key:"idPeternak"},{title:"NIK Peternak",dataIndex:"nikPeternak",key:"nikPeternak"},{title:"Nama Peternak",dataIndex:"namaPeternak",key:"namaPeternak"},{title:"ID ISIKHNAS",dataIndex:"idISIKHNAS",key:"idISIKHNAS"},{title:"Lokasi",dataIndex:"lokasi",key:"lokasi"},{title:"Petugas Pendaftar",dataIndex:"petugasPendaftar",key:"petugasPendaftar"},{title:"Tanggal Pendaftaran",dataIndex:"tanggalPendaftaran",key:"tanggalPendaftaran"}],m=function(){return h&&h.role,p.push({title:"Operasi",key:"action",width:120,align:"center",render:function(t,a){return w.a.createElement("span",null,w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"edit",title:"Edit",onClick:function(){return e.handleEditPeternak(a)}}),w.a.createElement(o.a,{type:"vertical"}),w.a.createElement(l.a,{type:"primary",shape:"circle",icon:"delete",title:"Delete",onClick:function(){return e.handleDeletePeternak(a)}}))}}),p},g=w.a.createElement(c.a,{gutter:[16,16],justify:"start"},!h||"ROLE_ADMINISTRATOR"!==h.role&&"ROLE_PETUGAS"!==h.role?null:w.a.createElement(c.a,{gutter:[16,16],justify:"start",style:{paddingLeft:9}},w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{type:"primary",onClick:e.handleAddPeternak},"Tambah Peternak")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(F.a,null),onClick:e.handleImportModalOpen},"Import File")),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(l.a,{icon:w.a.createElement(F.a,null),onClick:e.handleExportData},"Export File"))),w.a.createElement(s.a,{xs:24,sm:12,md:8,lg:6,xl:6},w.a.createElement(i.a,{placeholder:"Cari data",value:d,onChange:function(t){return e.handleSearch(t.target.value)},style:{width:235,marginRight:10}}))),v=(h?h.role:"").role;console.log("peran pengguna:",v);return w.a.createElement("div",{className:"app-container"},w.a.createElement(P.a,{title:"Manajemen Peternak",source:"Di sini, Anda dapat mengelola daftar peternak di sistem."}),w.a.createElement("br",null),w.a.createElement(r.a,{title:g,style:{overflowX:"scroll"}},h&&"ROLE_PETERNAK"===h.role?w.a.createElement(k.a,{dataSource:a,bordered:!0,columns:p}):(h&&h.role,w.a.createElement(k.a,{dataSource:a,bordered:!0,columns:p&&m()}))),w.a.createElement(C,{currentRowData:this.state.currentRowData,wrappedComponentRef:function(t){return e.editPeternakFormRef=t},visible:this.state.editPeternakModalVisible,confirmLoading:this.state.editPeternakModalLoading,onCancel:this.handleCancel,onOk:this.handleEditPeternakOk}),w.a.createElement(M,{wrappedComponentRef:function(t){return e.addPeternakFormRef=t},visible:this.state.addPeternakModalVisible,confirmLoading:this.state.addPeternakModalLoading,onCancel:this.handleCancel,onOk:this.handleAddPeternakOk}),w.a.createElement(f.a,{title:"Import File",visible:u,onCancel:this.handleImportModalClose,footer:[w.a.createElement(l.a,{key:"cancel",onClick:this.handleImportModalClose},"Cancel"),w.a.createElement(l.a,{key:"upload",type:"primary",loading:this.state.uploading,onClick:this.handleUpload},"Upload")]},w.a.createElement(n.a,{beforeUpload:this.handleFileImport},w.a.createElement(l.a,{icon:w.a.createElement(F.a,null)},"Pilih File"))))}}]),a}(b.Component);t.default=R},620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return c}));var n=a(34);function r(e){return Object(n.a)({url:"/peternak",method:"post",data:e})}function i(){return Object(n.a)({url:"/peternak",method:"get"})}function o(e,t){return Object(n.a)({url:"/peternak/".concat(t),method:"put",data:e})}function c(e){return Object(n.a)({url:"/peternak/".concat(e.idPeternak),method:"delete",data:e})}},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return s}));var n=a(34);function r(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("alamat",e.alamat),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),t.append("file",e.file.file),Object(n.a)({url:"/hewan",method:"post",data:t})}function i(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan",method:"post",data:t})}function o(){return Object(n.a)({url:"/hewan",method:"get"})}function c(e,t){var a=new FormData;return a.append("kodeEartagNasional",e.kodeEartagNasional),a.append("noKartuTernak",e.noKartuTernak),a.append("provinsi",e.provinsi),a.append("kabupaten",e.kabupaten),a.append("kecamatan",e.kecamatan),a.append("desa",e.desa),a.append("idPeternak",e.idPeternak),a.append("idKandang",e.idKandang),a.append("spesies",e.spesies),a.append("sex",e.sex),a.append("umur",e.umur),a.append("identifikasiHewan",e.identifikasiHewan),a.append("petugasPendaftar",e.petugasPendaftar),a.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan/".concat(t),method:"put",data:a})}function s(e){return Object(n.a)({url:"/hewan/".concat(e.kodeEartagNasional),method:"delete",data:e})}}}]);