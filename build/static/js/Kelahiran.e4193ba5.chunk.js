/*! For license information please see Kelahiran.e4193ba5.chunk.js.LICENSE.txt */
(this.webpackJsonpreact_antd_admin_template=this.webpackJsonpreact_antd_admin_template||[]).push([[4],{1339:function(e,t,a){"use strict";a.r(t),a.d(t,"checkIfDataExists",(function(){return Y}));a(295);var n=a(221),r=(a(219),a(131)),i=(a(128),a(33)),o=(a(222),a(103)),l=(a(178),a(53)),c=(a(179),a(31)),s=(a(101),a(30)),u=a(40),d=a(223),p=(a(132),a(35)),h=(a(129),a(69)),m=a(72),f=a(28),g=a(29),k=a(51),v=a(50),y=a(70),w=(a(296),a(133)),E=a(0),b=a.n(E),I=a(601),L=a(34);function P(e){return Object(L.a)({url:"/kelahiran",method:"post",data:e})}function j(){return Object(L.a)({url:"/kelahiran",method:"get"})}function x(e,t){return Object(L.a)({url:"/kelahiran/".concat(t),method:"put",data:e})}function S(e){return Object(L.a)({url:"/kelahiran/".concat(e.idKejadian),method:"delete",data:e})}var O=a(180),K=(a(134),a(220)),C=(a(176),a(19)),D=(a(177),a(27)),T=a(130),M=a(620),A=a(624);function N(){N=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new P(r||[]);return n(o,"_invoke",{value:E(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function p(){}function h(){}function m(){}var f={};c(f,i,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(j([])));k&&k!==t&&a.call(k,i)&&(f=k);var v=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,l){var c=u(e[r],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function E(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return x()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=b(o,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function b(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,n(v,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),c(v,l,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;L(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var V=D.a.Option,F=function(e){Object(k.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,l=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),c=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),s=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(l&&c&&s&&u){var d="".concat(u.name,", ").concat(s.name,", ").concat(c.name,", ").concat(l.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(N().mark((function t(){var a,n,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(y.a)(N().mark((function t(){var a,n,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(y.a)(N().mark((function t(){var a,n,r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null,namaPeternak:a?a.name:null})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,l=r.getFieldDecorator,c=this.state,s=c.petugasList,u=(c.namaPeternakList,c.selectedNamaPeternakId,c.hewanList),d=this.state,p=d.provinces,m=d.regencies,f=d.districts,g=d.villages;return b.a.createElement(h.a,{title:"Tambah Kelahiran",visible:t,onCancel:a,onOk:n,confirmLoading:o,width:700},b.a.createElement(C.a,{form:r,name:"validateOnly",layout:"vertical",autoComplete:"off"},b.a.createElement(C.a.Item,{label:"ID Kejadian:"},l("idKejadian",{})(b.a.createElement(i.a,{placeholder:"Masukkan ID kejadian"}))),b.a.createElement(C.a.Item,{label:"Tanggal Laporan:"},l("tanggalLaporan",{})(b.a.createElement(i.a,{type:"date",placeholder:"Masukkan tanggal laporan"}))),b.a.createElement(C.a.Item,{label:"Tanggal Lahir:"},l("tanggalLahir",{})(b.a.createElement(i.a,{type:"date",placeholder:"Masukkan tanggal lahir"}))),b.a.createElement(C.a.Item,{label:"Provinsi:"},l("provinsi")(b.a.createElement(D.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},p.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Kabupaten:"},l("kabupaten")(b.a.createElement(D.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},m.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Kecamatan:"},l("kecamatan")(b.a.createElement(D.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},f.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Desa:"},l("desa")(b.a.createElement(D.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},g.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Lokasi:"},l("lokasi",{rules:[{required:!0,message:"Silahkan isi lokasi"}]})(b.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),b.a.createElement(C.a.Item,{label:"ID Peternak:"},l("idPeternak",{})(b.a.createElement(D.a,{placeholder:"Pilih ID Peternak",onChange:this.handleNamaPeternakChange,value:this.state.selectedNamaPeternakId},this.state.namaPeternakList.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.id},e.id)}))))),b.a.createElement(C.a.Item,{label:"Nama Peternak:"},l("namaPeternak",{rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(b.a.createElement(i.a,{disabled:!0}))),b.a.createElement(C.a.Item,{label:"Kartu Ternak Induk:"},l("kartuTernakInduk",{})(b.a.createElement(i.a,{placeholder:"Masukkan kartu"}))),b.a.createElement(C.a.Item,{label:"Eartag Induk:"},l("eartagInduk",{})(b.a.createElement(i.a,{placeholder:"Masukkan Eartag"}))),b.a.createElement(C.a.Item,{label:"ID Hewan Induk:"},l("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi ID Hewan"}]})(b.a.createElement(D.a,{placeholder:"Pilih ID Hewan"},u.map((function(e){return b.a.createElement(V,{key:e,value:e},e)}))))),b.a.createElement(C.a.Item,{label:"Spesies Induk:"},l("spesiesInduk",{initialValue:"Sapi Limosin"})(b.a.createElement(D.a,{style:{width:150}},b.a.createElement(D.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),b.a.createElement(D.a.Option,{value:"Sapi Simental"},"Sapi Simental"),b.a.createElement(D.a.Option,{value:"Sapi FH"},"Sapi FH"),b.a.createElement(D.a.Option,{value:"Sapi PO"},"Sapi PO"),b.a.createElement(D.a.Option,{value:"Sapi Brangus"},"Sapi Brangus")))),b.a.createElement(C.a.Item,{label:"ID Pejantan Straw:"},l("idPejantanStraw",{})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"ID Batch Straw:"},l("idBatchStraw",{})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"Produsen Straw:"},l("produsenStraw",{})(b.a.createElement(i.a,{placeholder:"Masukkan produsen"}))),b.a.createElement(C.a.Item,{label:"Spesies Pejantan:"},l("spesiesPejantan",{})(b.a.createElement(i.a,{placeholder:"Masukkan spesies"}))),b.a.createElement(C.a.Item,{label:"Jumlah:"},l("jumlah",{})(b.a.createElement(i.a,{placeholder:"Masukkan jumlah"}))),b.a.createElement(C.a.Item,{label:"Kartu Ternak Anak:"},l("kartuTernakAnak",{})(b.a.createElement(i.a,{placeholder:"Masukkan kartu"}))),b.a.createElement(C.a.Item,{label:"Eartag Anak:"},l("eartagAnak",{})(b.a.createElement(i.a,{placeholder:"Masukkan Eartag"}))),b.a.createElement(C.a.Item,{label:"ID Hewan Anak:"},l("idHewanAnak",{})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"Jenis Kelamin Anak:"},l("jenisKelaminAnak",{initialValue:"Betina"})(b.a.createElement(D.a,{style:{width:150}},b.a.createElement(D.a.Option,{value:"Betina"},"Betina"),b.a.createElement(D.a.Option,{value:"Jantan"},"Jantan")))),b.a.createElement(C.a.Item,{label:"Kategori:"},l("kategori",{})(b.a.createElement(i.a,{placeholder:"Masukkan kategori"}))),b.a.createElement(C.a.Item,{label:"Petugas Pelapor:"},l("petugasPelapor",{rules:[{required:!0,message:"Silahkan isi Inseminator"}]})(b.a.createElement(D.a,{placeholder:"Pilih Petugas"},s.map((function(e){return b.a.createElement(D.a.Option,{key:e,value:e},e)}))))),b.a.createElement(C.a.Item,{label:"Urutan IB:"},l("urutanIb",{})(b.a.createElement(i.a,{placeholder:"Masukkan urutan "})))))}}]),a}(E.Component),_=C.a.create({name:"AddKelahiranForm"})(F);function H(){H=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new P(r||[]);return n(o,"_invoke",{value:E(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function p(){}function h(){}function m(){}var f={};c(f,i,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(j([])));k&&k!==t&&a.call(k,i)&&(f=k);var v=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,l){var c=u(e[r],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function E(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return x()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=b(o,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function b(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,n(v,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),c(v,l,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;L(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var B=D.a.Option,G=function(e){Object(k.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={provinces:[],regencies:[],districts:[],villages:[],hewanList:[],petugasList:[],namaPeternakList:[],selectedNamaPeternakId:null},e.handleProvinceChange=function(t){var a=e.state.provinces.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/regencies/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({regencies:t})})),e.props.form.setFieldsValue({kabupaten:void 0,kecamatan:void 0,desa:void 0})},e.handleRegencyChange=function(t){var a=e.state.regencies.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/districts/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({districts:t})})),e.props.form.setFieldsValue({kecamatan:void 0,desa:void 0})},e.handleDistrictChange=function(t){var a=e.state.districts.find((function(e){return e.name===t}));a&&fetch("https://www.emsifa.com/api-wilayah-indonesia/api/villages/".concat(a.id,".json")).then((function(e){return e.json()})).then((function(t){return e.setState({villages:t})})),e.props.form.setFieldsValue({desa:void 0})},e.handleVillageChange=function(t){var a=e.state,n=a.provinces,r=a.regencies,i=a.districts,o=a.villages,l=n.find((function(t){return t.name===e.props.form.getFieldValue("provinsi")})),c=r.find((function(t){return t.name===e.props.form.getFieldValue("kabupaten")})),s=i.find((function(t){return t.name===e.props.form.getFieldValue("kecamatan")})),u=o.find((function(e){return e.name===t}));if(l&&c&&s&&u){var d="".concat(u.name,", ").concat(s.name,", ").concat(c.name,", ").concat(l.name);e.setState({mergedLocation:d}),e.props.form.setFieldsValue({lokasi:d})}},e.fetchPetugasList=Object(y.a)(H().mark((function t(){var a,n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({petugasList:r.map((function(e){return e.namaPetugas}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching petugas data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchHewanList=Object(y.a)(H().mark((function t(){var a,n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A.e)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({hewanList:r.map((function(e){return e.kodeEartagNasional}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching hewan data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.fetchNamaPeternakList=Object(y.a)(H().mark((function t(){var a,n,r;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.d)();case 3:a=t.sent,n=a.data,r=n.content,200===n.statusCode&&e.setState({namaPeternakList:r.map((function(e){return{id:e.idPeternak,name:e.namaPeternak}})),selectedNamaPeternakId:r.length>0?r[0].id:null}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching study program data: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.handleNamaPeternakChange=function(t){e.setState({selectedNamaPeternakId:t});var a=e.state.namaPeternakList.find((function(e){return e.id||e.namaPeternak===t}));e.props.form.setFieldsValue({idPeternak:a?a.id:null})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.emsifa.com/api-wilayah-indonesia/api/provinces.json").then((function(e){return e.json()})).then((function(t){return e.setState({provinces:t})})),this.fetchPetugasList(),this.fetchNamaPeternakList(),this.fetchHewanList()}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onOk,r=e.form,o=e.confirmLoading,l=e.currentRowData,c=r.getFieldDecorator,s=this.state,u=s.petugasList,d=s.namaPeternakList,p=s.selectedNamaPeternakId,m=s.hewanList,f=this.state,g=f.provinces,k=f.regencies,v=f.districts,y=f.villages,w=l.idKejadian,E=l.tanggalLaporan,I=l.tanggalLahir,L=l.lokasi,P=l.namaPeternak,j=l.idPeternak,x=l.kartuTernakInduk,S=l.eartagInduk,O=l.spesiesInduk,K=l.idPejantanStraw,T=l.idBatchStraw,M=l.produsenStraw,A=l.spesiesPejantan,N=l.jumlah,V=l.kartuTernakAnak,F=l.eartagAnak,_=l.idHewanAnak,H=l.jenisKelaminAnak,G=l.kategori,R=l.petugasPelapor,J=l.urutanIb,U={labelCol:{xs:{span:20},sm:{span:6}},wrapperCol:{xs:{span:19},sm:{span:17}}};return b.a.createElement(h.a,{title:"Edit Kelahiran",visible:t,onCancel:a,onOk:n,confirmLoading:o,width:700},b.a.createElement(C.a,U,b.a.createElement(C.a.Item,{label:"ID Kejadian:"},c("idKejadian",{initialValue:w})(b.a.createElement(i.a,{disabled:!0}))),b.a.createElement(C.a.Item,{label:"Tanggal Laporan:"},c("tanggalLaporan",{initialValue:E})(b.a.createElement(i.a,{type:"date",placeholder:"Masukkan tanggal"}))),b.a.createElement(C.a.Item,{label:"Tanggal Lahir:"},c("tanggalLahir",{initialValue:I})(b.a.createElement(i.a,{type:"date",placeholder:"Masukkan tanggal"}))),b.a.createElement(C.a.Item,{label:"Provinsi:"},c("provinsi")(b.a.createElement(D.a,{placeholder:"Masukkan provinsi",onChange:this.handleProvinceChange},g.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Kabupaten:"},c("kabupaten")(b.a.createElement(D.a,{placeholder:"Masukkan kabupaten",onChange:this.handleRegencyChange},k.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Kecamatan:"},c("kecamatan")(b.a.createElement(D.a,{placeholder:"Masukkan kecamatan",onChange:this.handleDistrictChange},v.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Desa:"},c("desa")(b.a.createElement(D.a,{placeholder:"Masukkan Desa",onChange:this.handleVillageChange},y.map((function(e){return b.a.createElement(D.a.Option,{key:e.id,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"Lokasi:"},c("lokasi",{initialValue:L})(b.a.createElement(i.a,{placeholder:"Lokasi akan otomatis terisi"}))),b.a.createElement(C.a.Item,{label:"Nama Peternak:"},c("namaPeternak",{initialValue:P,rules:[{required:!0,message:"Silahkan isi Nama Peternak"}]})(b.a.createElement(D.a,{placeholder:"Pilih Nama Peternak",onChange:this.handleNamaPeternakChange,value:p},d.map((function(e){return b.a.createElement(D.a.Option,{key:e.name,value:e.name},e.name)}))))),b.a.createElement(C.a.Item,{label:"ID Peternak:"},c("idPeternak",{initialValue:j,rules:[{required:!0,message:"Silahkan isi id peternak"}]})(b.a.createElement(i.a,{placeholder:"Masukkan ID Peternak",readOnly:!0}))),b.a.createElement(C.a.Item,{label:"Kartu Ternak Induk:"},c("kartuTernakInduk",{initialValue:x})(b.a.createElement(i.a,{placeholder:"Masukkan kartu"}))),b.a.createElement(C.a.Item,{label:"Eartag Induk:"},c("eartagInduk",{initialValue:S})(b.a.createElement(i.a,{placeholder:"Masukkan Eartag"}))),b.a.createElement(C.a.Item,{label:"ID Hewan Induk:"},c("kodeEartagNasional",{rules:[{required:!0,message:"Silahkan isi ID Hewan"}]})(b.a.createElement(D.a,{placeholder:"Pilih ID Hewan"},m.map((function(e){return b.a.createElement(B,{key:e,value:e},e)}))))),b.a.createElement(C.a.Item,{label:"Spesies Induk:"},c("spesiesInduk",{initialValue:O})(b.a.createElement(D.a,{style:{width:150}},b.a.createElement(D.a.Option,{value:"Sapi Limosin"},"Sapi Limosin"),b.a.createElement(D.a.Option,{value:"Sapi Simental"},"Sapi Simental"),b.a.createElement(D.a.Option,{value:"Sapi FH"},"Sapi FH"),b.a.createElement(D.a.Option,{value:"Sapi PO"},"Sapi PO"),b.a.createElement(D.a.Option,{value:"Sapi Brangus"},"Sapi Brangus")))),b.a.createElement(C.a.Item,{label:"ID Pejantan Straw:"},c("idPejantanStraw",{initialValue:K})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"ID Batch Straw:"},c("idBatchStraw",{initialValue:T})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"Produsen Straw:"},c("produsenStraw",{initialValue:M})(b.a.createElement(i.a,{placeholder:"Masukkan produsen"}))),b.a.createElement(C.a.Item,{label:"Spesies Pejantan:"},c("spesiesPejantan",{initialValue:A})(b.a.createElement(i.a,{placeholder:"Masukkan spesies"}))),b.a.createElement(C.a.Item,{label:"Jumlah:"},c("jumlah",{initialValue:N})(b.a.createElement(i.a,{placeholder:"Masukkan jumlah"}))),b.a.createElement(C.a.Item,{label:"Kartu Ternak Anak:"},c("kartuTernakAnak",{initialValue:V})(b.a.createElement(i.a,{placeholder:"Masukkan kartu"}))),b.a.createElement(C.a.Item,{label:"Eartag Anak:"},c("eartagAnak",{initialValue:F})(b.a.createElement(i.a,{placeholder:"Masukkan Eartag"}))),b.a.createElement(C.a.Item,{label:"ID Hewan Anak:"},c("idHewanAnak",{initialValue:_})(b.a.createElement(i.a,{placeholder:"Masukkan ID"}))),b.a.createElement(C.a.Item,{label:"Jenis Kelamin Anak:"},c("jenisKelaminAnak",{initialValue:H})(b.a.createElement(D.a,{style:{width:150}},b.a.createElement(D.a.Option,{value:"Betina"},"Betina"),b.a.createElement(D.a.Option,{value:"Jantan"},"Jantan")))),b.a.createElement(C.a.Item,{label:"Kategori:"},c("kategori",{initialValue:G})(b.a.createElement(i.a,{placeholder:"Masukkan kategori"}))),b.a.createElement(C.a.Item,{label:"Petugas Pelapor:"},c("petugasPelapor",{initialValue:R})(b.a.createElement(D.a,null,u.map((function(e){return b.a.createElement(B,{key:e,value:e},e)}))))),b.a.createElement(C.a.Item,{label:"Urutan IB:"},c("urutanIb",{initialValue:J})(b.a.createElement(i.a,{placeholder:"Masukkan urutan "})))))}}]),a}(E.Component),R=C.a.create({name:"EditKelahiranForm"})(G),J=a(102);function U(){U=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,a){return e[t]=a}}function s(e,t,a,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),l=new P(r||[]);return n(o,"_invoke",{value:E(e,a,l)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var d={};function p(){}function h(){}function m(){}var f={};c(f,i,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(j([])));k&&k!==t&&a.call(k,i)&&(f=k);var v=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;n(this,"_invoke",{value:function(n,i){function o(){return new t((function(r,o){!function n(r,i,o,l){var c=u(e[r],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}})}function E(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return x()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=b(o,a);if(l){if(l===d)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=u(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}function b(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,n(v,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),c(v,l,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),L(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;L(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}w.a.Column;var Y=function(){var e=Object(y.a)(U().mark((function e(t){var a,n,r,i;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:if(a=e.sent,n=a.data,r=n.content,200!==n.statusCode){e.next=16;break}if(!(i=r.find((function(e){return e.idKejadian===t.idKejadian})))){e.next=13;break}return e.next=10,x(i.idKejadian,t);case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:e.next=18;break;case 16:return console.error("Gagal memeriksa data:",a),e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),console.error("Gagal memeriksa data:",e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){Object(k.a)(a,e);var t=Object(v.a)(a);function a(){var e,n;Object(f.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))).state=(e={kelahiran:[],editKelahiranModalVisible:!1,editKelahiranModalLoading:!1,currentRowData:{},addKelahiranModalVisible:!1,addKelahiranModalLoading:!1,importModalVisible:!1,importedData:[],columnTitles:[],fileName:"",uploading:!1},Object(m.a)(e,"importModalVisible",!1),Object(m.a)(e,"columnMapping",{}),Object(m.a)(e,"searchKeyword",""),Object(m.a)(e,"user",null),e),n.getKelahiran=Object(y.a)(U().mark((function e(){var t,a,r,i;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,console.log(t),a=t.data,r=a.content,200===a.statusCode&&(i=r.filter((function(e){var t=e.idKejadian,a=e.tanggalLaporan,r=e.tanggalLahir,i=e.lokasi,o=e.idPeternak,l=e.kartuTernakInduk,c=e.kartuTernakAnak,s=e.eartagInduk,u=e.eartagAnak,d=e.kodeEartagNasional,p=e.idHewanAnak,h=e.spesiesInduk,m=e.spesiesPejantan,f=e.idPejantanStraw,g=e.idBatchStraw,k=e.jenisKelaminAnak,v=e.kategori,y=e.petugasPelapor,w=e.produsenStraw,E=n.state.searchKeyword.toLowerCase(),b="string"===typeof a,I="string"===typeof r,L="string"===typeof i,P="string"===typeof o,j="string"===typeof l,x="string"===typeof c,S="string"===typeof s,O="string"===typeof u,K="string"===typeof d,C="string"===typeof p,D="string"===typeof h,T="string"===typeof m,M="string"===typeof f,A="string"===typeof g,N="string"===typeof k,V="string"===typeof v,F="string"===typeof y,_="string"===typeof w;return"string"===typeof t&&t.toLowerCase().includes(E)||b&&a.toLowerCase().includes(E)||I&&r.toLowerCase().includes(E)||L&&i.toLowerCase().includes(E)||P&&o.toLowerCase().includes(E)||j&&l.toLowerCase().includes(E)||D&&h.toLowerCase().includes(E)||x&&c.toLowerCase().includes(E)||S&&s.toLowerCase().includes(E)||O&&u.toLowerCase().includes(E)||K&&d.toLowerCase().includes(E)||C&&p.toLowerCase().includes(E)||T&&m.toLowerCase().includes(E)||M&&f.toLowerCase().includes(E)||A&&g.toLowerCase().includes(E)||N&&k.toLowerCase().includes(E)||V&&v.toLowerCase().includes(E)||F&&y.toLowerCase().includes(E)||_&&w.toLowerCase().includes(E)})),n.setState({kelahiran:i}));case 6:case"end":return e.stop()}}),e)}))),n.handleSearch=function(e){n.setState({searchKeyword:e},(function(){n.getKelahiran()}))},n.handleEditKelahiran=function(e){n.setState({currentRowData:Object.assign({},e),editKelahiranModalVisible:!0})},n.handleDeleteKelahiran=function(e){var t=e.idKejadian;h.a.confirm({title:"Konfirmasi",content:"Apakah Anda yakin ingin menghapus data ini?",okText:"Ya",okType:"danger",cancelText:"Tidak",onOk:function(){S({idKejadian:t}).then((function(e){p.a.success("Berhasil dihapus"),n.getKelahiran()}))}})},n.handleEditKelahiranOk=function(e){var t=n.editKelahiranFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({editKelahiranModalLoading:!0}),x(a,a.idKejadian).then((function(e){t.resetFields(),n.setState({editKelahiranModalVisible:!1,editKelahiranModalLoading:!1}),p.a.success("Berhasil diedit!"),n.getKelahiran()})).catch((function(e){p.a.success("Pengeditan gagal, harap coba lagi!")})))}))},n.handleCancel=function(e){n.setState({editKelahiranModalVisible:!1,addKelahiranModalVisible:!1,importModalVisible:!1})},n.handleAddKelahiran=function(e){n.setState({addKelahiranModalVisible:!0})},n.handleAddKelahiranOk=function(e){var t=n.addKelahiranFormRef.props.form;t.validateFields((function(e,a){e||(n.setState({addKelahiranModalLoading:!0}),P(a).then((function(e){t.resetFields(),n.setState({addKelahiranModalVisible:!1,addKelahiranModalLoading:!1}),p.a.success("Berhasil menambahkan!"),n.getKelahiran()})).catch((function(e){p.a.success("Gagal menambahkan, harap coba lagi!")})))}))},n.handleImportModalOpen=function(){n.setState({importModalVisible:!0})},n.handleImportModalClose=function(){n.setState({importModalVisible:!1})},n.handleFileImport=function(e){var t=new FileReader;t.onload=function(t){var a=new Uint8Array(t.target.result),r=Object(O.read)(a,{type:"array"}),i=r.Sheets[r.SheetNames[0]],o=O.utils.sheet_to_json(i,{header:1}),l=o.slice(1),c=o[0],s=e.name.toLowerCase();n.setState({importedData:l,columnTitles:c,fileName:s});var u={};c.forEach((function(e,t){u[e]=t})),n.setState({columnMapping:u})},t.readAsArrayBuffer(e)},n.handleUpload=function(){var e=n.state,t=e.importedData,a=e.columnMapping;0!==t.length?(n.setState({uploading:!0}),setTimeout((function(){n.setState({uploading:!1,importModalVisible:!1}),p.a.success("File uploaded successfully"),n.saveImportedData(a)}),2e3)):p.a.error("No data to import.")},n.saveImportedData=function(){var e=Object(y.a)(U().mark((function e(t){var a,r,i,o;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.importedData,r=!1,i=0,o=0,e.prev=4,e.next=7,Promise.all(a.map(function(){var e=Object(y.a)(U().mark((function e(a){var l,c;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={idKejadian:a[t["ID Kejadian"]],tanggalLaporan:n.convertToJSDate(a[t["Tanggal laporan"]]),tanggalLahir:n.convertToJSDate(a[t["Tanggal lahir"]]),lokasi:a[t.Lokasi],namaPeternak:a[t["Nama Peternak"]],idPeternak:a[t["ID Peternak"]],kartuTernakInduk:a[t["kartu ternak induk"]],eartagInduk:a[t["ID Hewan Induk"]],kodeEartagNasional:a[t.eartag_induk],spesiesInduk:a[t["Spesies Induk"]],idPejantanStraw:a[t["ID Pejantan Straw"]],idBatchStraw:a[t["ID Batch Straw"]],produsenStraw:a[t["Produsen Straw"]],spesiesPejantan:a[t["Spesies Pejantan"]],jumlah:a[t.Jumlah],kartuTernakAnak:a[t["kartu ternak anak"]],eartagAnak:a[t.eartag_anak],idHewanAnak:a[t["ID Hewan"]],jenisKelaminAnak:a[t["Jenis Kelamin Anak"]],kategori:a[t.kategori],petugasPelapor:a[t["Petugas Pelapor"]],urutanIb:a[t.urutan_ib]},e.prev=1,e.next=4,Y(l);case 4:if(c=e.sent){e.next=10;break}return e.next=8,P(l);case 8:e.next=19;break;case 10:if(!c){e.next=17;break}return Object(d.a)("isDataExists"),e.next=14,x(l);case 14:o+=1,e.next=19;break;case 17:r=!0,i+=1;case 19:o+=1,e.next=27;break;case 22:e.prev=22,e.t0=e.catch(1),console.error("Gagal menyimpan data:",e.t0),r=!0,i+=1;case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}()));case 7:n.setState({importedData:[],columnTitles:[],columnMapping:{}}),r?(p.a.error("Gagal menyimpan ".concat(i," data, harap coba lagi!")),p.a.success("Berhasil mengedit ".concat(o," data"))):(p.a.success("Data berhasil disimpan ke database."),p.a.success("Berhasil mengedit ".concat(o," data"))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),p.a.error("Gagal menyimpan data: "+e.t0.message);case 15:return e.prev=15,n.setState({uploading:!1,importModalVisible:!1}),n.getKelahiran(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,11,15,19]])})));return function(t){return e.apply(this,arguments)}}(),n.handleExportData=function(){var e=n.state.kelahiran,t=n.convertToCSV(e);n.downloadCSV(t)},n.convertToCSV=function(e){var t=[["ID Kejadian","Tanggal Laporan","Tanggal Lahir","Lokasi","Nama Peternak","Id Peternak","Kartu Ternak Induk","Eartag Induk","Id Hewan Induk","Spesies Induk","Id Pejantan Straw","Id Batch Straw","Produsen Straw","Spesies Pejantan","Jumlah","Kartu Ternak Anak","Eartag Anak","Id Hewan Anak","Jenis Kelamin Anak","Kategori","Petugas Pelopor","Urutan Ib"]];e.forEach((function(e){var a=[e.idKejadian,e.tanggalLaporan,e.tanggalLahir,e.lokasi,e.namaPeternak,e.idPeternak,e.kartuTernakInduk,e.eartagInduk,e.kodeEartagNasional,e.spesiesInduk,e.idPejantanStraw,e.idBatchStraw,e.produsenStraw,e.spesiesPejantan,e.jumlah,e.kartuTernakAnak,e.eartagAnak,e.idHewanAnak,e.jenisKelaminAnak,e.kategori,e.petugasPelapor,e.urutanIb];t.push(a)}));var a="data:text/csv;charset=utf-8,";return t.forEach((function(e){var t=e.join(";");a+=t+"\r\n"})),a},n.downloadCSV=function(e){var t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","Kelahiran.csv"),document.body.appendChild(a),a.click()},n}return Object(g.a)(a,[{key:"convertToJSDate",value:function(e){var t;if("number"===typeof e){var a=Math.floor(e-25569),n=new Date(1e3*(86400*a));t=new Date(n.getFullYear(),n.getMonth(),n.getDate()).toString()}else if("string"===typeof e){var r=e.split("/"),i=Object(u.a)(r,3),o=i[0],l=i[1],c=i[2];t=new Date("".concat(c,"-").concat(l,"-").concat(o)).toString()}return t}},{key:"componentDidMount",value:function(){var e=this;this.getKelahiran(),Object(J.a)().then((function(t){e.setState({user:t.data})})).catch((function(e){console.error("Terjadi kesalahan saat mengambil data user:",e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.kelahiran,u=t.importModalVisible,d=t.searchKeyword,p=t.user,m=[{title:"ID Kejadian",dataIndex:"idKejadian",key:"idKejadian"},{title:"Tanggal Laporan",dataIndex:"tanggalLaporan",key:"tanggalLaporan"},{title:"Tanggal Lahir",dataIndex:"tanggalLahir",key:"tanggalLahir"},{title:"Lokasi",dataIndex:"lokasi",key:"lokasi"},{title:"Nama Peternak",dataIndex:["idPeternak","namaPeternak"],key:"namaPeternak"},{title:"ID Peternak",dataIndex:["idPeternak","idPeternak"],key:"idPeternak"},{title:"Kartu Ternak Induk",dataIndex:"kartuTernakInduk",key:"kartuTernakInduk"},{title:"ID Hewan Induk",dataIndex:"eartagInduk",key:"eartagInduk"},{title:"Eartag Induk",dataIndex:["kodeEartagNasional","kodeEartagNasional"],key:"kodeEartagNasional"},{title:"Spesies Induk",dataIndex:"spesiesInduk",key:"spesiesInduk"},{title:"ID Pejantan Straw",dataIndex:"idPejantanStraw",key:"idPejantanStraw"},{title:"ID Batch Straw",dataIndex:"idBatchStraw",key:"idBatchStraw"},{title:"Produsen Straw",dataIndex:"produsenStraw",key:"produsenStraw"},{title:"Spesies Pejantan",dataIndex:"spesiesPejantan",key:"spesiesPejantan"},{title:"Jumlah",dataIndex:"jumlah",key:"jumlah"},{title:"Kartu Ternak Anak",dataIndex:"kartuTernakAnak",key:"kartuTernakAnak"},{title:"Eartag Anak",dataIndex:"eartagAnak",key:"eartagAnak"},{title:"ID Hewan Anak",dataIndex:"idHewanAnak",key:"idHewanAnak"},{title:"Jenis Kelamin Anak",dataIndex:"jenisKelaminAnak",key:"jenisKelaminAnak"},{title:"Kategori",dataIndex:"kategori",key:"kategori"},{title:"Petugas Pelapor",dataIndex:"petugasPelapor",key:"petugasPelapor"},{title:"Urutan IB",dataIndex:"urutanIb",key:"urutanIb"}],f=function(){return p&&p.role,m.push({title:"Operasi",key:"action",width:120,align:"center",render:function(t,a){return b.a.createElement("span",null,b.a.createElement(s.a,{type:"primary",shape:"circle",icon:"edit",title:"Edit",onClick:function(){return e.handleEditKelahiran(a)}}),b.a.createElement(o.a,{type:"vertical"}),b.a.createElement(s.a,{type:"primary",shape:"circle",icon:"delete",title:"Delete",onClick:function(){return e.handleDeleteKelahiran(a)}}))}}),m},g=b.a.createElement(l.a,{gutter:[16,16],justify:"start"},!p||"ROLE_ADMINISTRATOR"!==p.role&&"ROLE_PETUGAS"!==p.role?null:b.a.createElement(l.a,{gutter:[16,16],justify:"start",style:{paddingLeft:9}},b.a.createElement(c.a,{xs:24,sm:12,md:8,lg:6,xl:6},b.a.createElement(s.a,{type:"primary",onClick:e.handleAddKelahiran},"Tambah Kelahiran")),b.a.createElement(c.a,{xs:24,sm:12,md:8,lg:6,xl:6},b.a.createElement(s.a,{icon:b.a.createElement(I.a,null),onClick:e.handleImportModalOpen},"Import File")),b.a.createElement(c.a,{xs:24,sm:12,md:8,lg:6,xl:6},b.a.createElement(s.a,{icon:b.a.createElement(I.a,null),onClick:e.handleExportData},"Export File"))),b.a.createElement(c.a,{xs:24,sm:12,md:8,lg:6,xl:6},b.a.createElement(i.a,{placeholder:"Cari data",value:d,onChange:function(t){return e.handleSearch(t.target.value)},style:{width:235,marginRight:10}}))),k=(p?p.role:"").role;console.log("peran pengguna:",k);return b.a.createElement("div",{className:"app-container"},b.a.createElement(K.a,{title:"Manajemen Kelahiran",source:"Di sini, Anda dapat mengelola daftar kelahiran di sistem."}),b.a.createElement("br",null),b.a.createElement(r.a,{title:g,style:{overflowX:"scroll"}},p&&"ROLE_PETERNAK"===p.role?b.a.createElement(w.a,{dataSource:a,bordered:!0,columns:m}):(p&&p.role,b.a.createElement(w.a,{dataSource:a,bordered:!0,columns:m&&f()}))),b.a.createElement(R,{currentRowData:this.state.currentRowData,wrappedComponentRef:function(t){return e.editKelahiranFormRef=t},visible:this.state.editKelahiranModalVisible,confirmLoading:this.state.editKelahiranModalLoading,onCancel:this.handleCancel,onOk:this.handleEditKelahiranOk}),b.a.createElement(_,{wrappedComponentRef:function(t){return e.addKelahiranFormRef=t},visible:this.state.addKelahiranModalVisible,confirmLoading:this.state.addKelahiranModalLoading,onCancel:this.handleCancel,onOk:this.handleAddKelahiranOk}),b.a.createElement(h.a,{title:"Import File",visible:u,onCancel:this.handleImportModalClose,footer:[b.a.createElement(s.a,{key:"cancel",onClick:this.handleImportModalClose},"Cancel"),b.a.createElement(s.a,{key:"upload",type:"primary",loading:this.state.uploading,onClick:this.handleUpload},"Upload")]},b.a.createElement(n.a,{beforeUpload:this.handleFileImport},b.a.createElement(s.a,{icon:b.a.createElement(I.a,null)},"Pilih File"))))}}]),a}(E.Component);t.default=q},620:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(34);function r(e){return Object(n.a)({url:"/peternak",method:"post",data:e})}function i(){return Object(n.a)({url:"/peternak",method:"get"})}function o(e,t){return Object(n.a)({url:"/peternak/".concat(t),method:"put",data:e})}function l(e){return Object(n.a)({url:"/peternak/".concat(e.idPeternak),method:"delete",data:e})}},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c}));var n=a(34);function r(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("alamat",e.alamat),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),t.append("file",e.file.file),Object(n.a)({url:"/hewan",method:"post",data:t})}function i(e){var t=new FormData;return t.append("kodeEartagNasional",e.kodeEartagNasional),t.append("noKartuTernak",e.noKartuTernak),t.append("provinsi",e.provinsi),t.append("kabupaten",e.kabupaten),t.append("kecamatan",e.kecamatan),t.append("desa",e.desa),t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("idPeternak",e.idPeternak),t.append("idKandang",e.idKandang),t.append("spesies",e.spesies),t.append("sex",e.sex),t.append("umur",e.umur),t.append("identifikasiHewan",e.identifikasiHewan),t.append("petugasPendaftar",e.petugasPendaftar),t.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan",method:"post",data:t})}function o(){return Object(n.a)({url:"/hewan",method:"get"})}function l(e,t){var a=new FormData;return a.append("kodeEartagNasional",e.kodeEartagNasional),a.append("noKartuTernak",e.noKartuTernak),a.append("provinsi",e.provinsi),a.append("kabupaten",e.kabupaten),a.append("kecamatan",e.kecamatan),a.append("desa",e.desa),a.append("idPeternak",e.idPeternak),a.append("idKandang",e.idKandang),a.append("spesies",e.spesies),a.append("sex",e.sex),a.append("umur",e.umur),a.append("identifikasiHewan",e.identifikasiHewan),a.append("petugasPendaftar",e.petugasPendaftar),a.append("tanggalTerdaftar",e.tanggalTerdaftar),Object(n.a)({url:"/hewan/".concat(t),method:"put",data:a})}function c(e){return Object(n.a)({url:"/hewan/".concat(e.kodeEartagNasional),method:"delete",data:e})}}}]);